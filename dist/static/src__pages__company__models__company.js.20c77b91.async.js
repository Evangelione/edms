webpackJsonp([25],{"e7X/":function(e,a,t){"use strict";function n(e){var a=e.page,t=e.find_str,n=new FormData;return n.append("page",a),n.append("limit",y.b),n.append("find_str",t),Object(l.a)("".concat(y.a,"/home/company/sales-performance"),{method:"POST",body:n})}function r(){return Object(l.a)("".concat(y.a,"/home/company/company-info"),{method:"POST"})}function o(e){var a=e.file,t=new FormData;return t.append(a.filename,a.file),Object(l.a)(a.action,{method:"POST",body:t})}function c(e){var a=e.form,t=new FormData;return m()(a).forEach(function(e,n){t.append(e,a[e])}),Object(l.a)("".concat(y.a,"/home/company/modify-company"),{method:"POST",body:t})}Object.defineProperty(a,"__esModule",{value:!0});var s=t("irdN"),p=t.n(s),i=(t("UQ5M"),t("/qCn")),u=t("zIwb"),d=t.n(u),f=t("oXS2"),m=t.n(f),l=t("vLgD"),y=t("oiih");a.default={namespace:"company",state:{list:[],page:1,total:0,find_str:"",companyDetail:{},imgUrl:""},subscriptions:{setup:function(e){e.dispatch;return e.history.listen(function(e){e.pathname,e.query})}},effects:{fetchCompanyList:d.a.mark(function e(a,t){var r,o,c,s,p,i,u,f,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.payload,o=r.page,c=void 0===o?1:o,s=r.find_str,p=void 0===s?"":s,i=t.call,u=t.put,e.next=4,i(n,{page:c,find_str:p});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,u({type:"save",payload:{list:m.data.list,page:parseInt(c,10),total:parseInt(m.data.count,10),find_str:p}});case 9:case"end":return e.stop()}},e,this)}),fetchCompanyDetail:d.a.mark(function e(a,t){var n,o,c,s,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,o=t.call,c=t.put,e.next=4,o(r);case 4:if(s=e.sent,p=s.data,1!==p.code){e.next=9;break}return e.next=9,c({type:"save",payload:{companyDetail:p.data.info}});case 9:case"end":return e.stop()}},e,this)}),postImg:d.a.mark(function e(a,t){var n,r,c,s,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,c=t.put,e.next=4,r(o,{file:n});case 4:if(s=e.sent,p=s.data,-1!==p.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==p.code){e.next=14;break}return i.a.success(p.msg),e.next=12,c({type:"save",payload:{imgUrl:p.url}});case 12:e.next=15;break;case 14:i.a.error(p.msg);case 15:n.onProgress({percent:100}),n.onSuccess();case 17:case"end":return e.stop()}},e,this)}),modifyCompany:d.a.mark(function e(a,t){var n,r,o,s,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload.form,r=t.call,o=t.put,e.next=4,r(c,{form:n});case 4:if(s=e.sent,p=s.data,-1!==p.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===p.code?i.a.success(p.msg):i.a.error(p.msg);case 9:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,a){return p()({},e,a.payload)}}}}});