webpackJsonp([25],{"e7X/":function(e,a,t){"use strict";function n(e){var a=e.page,t=e.find_str,n=new FormData;return n.append("page",a),n.append("limit",v.c),n.append("find_str",t),Object(h.a)("".concat(v.a,"/home/company/sales-performance"),{method:"POST",body:n})}function r(){return Object(h.a)("".concat(v.a,"/home/company/company-info"),{method:"POST"})}function c(e){var a=e.file,t=new FormData;return t.append(a.filename,a.file),Object(h.a)(a.action,{method:"POST",body:t})}function o(e){var a=e.form,t=new FormData;return y()(a).forEach(function(e,n){t.append(e,a[e])}),Object(h.a)("".concat(v.a,"/home/company/modify-company"),{method:"POST",body:t})}Object.defineProperty(a,"__esModule",{value:!0});var s=t("Biqn"),i=t.n(s),p=t("rzQm"),u=t.n(p),d=(t("UQ5M"),t("/qCn")),f=t("En79"),m=t.n(f),l=t("qO4g"),y=t.n(l),h=t("vLgD"),v=t("oiih");a.default={namespace:"company",state:{list:[],page:1,total:0,find_str:"",companyDetail:{},imgUrl:[]},subscriptions:{setup:function(e){e.dispatch;return e.history.listen(function(e){e.pathname,e.query})}},effects:{fetchCompanyList:m.a.mark(function e(a,t){var r,c,o,s,i,p,u,d,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.payload,c=r.page,o=void 0===c?1:c,s=r.find_str,i=void 0===s?"":s,p=t.call,u=t.put,e.next=4,p(n,{page:o,find_str:i});case 4:if(d=e.sent,f=d.data,1!==f.code){e.next=9;break}return e.next=9,u({type:"save",payload:{list:f.data.list,page:parseInt(o,10),total:parseInt(f.data.count,10),find_str:i}});case 9:case"end":return e.stop()}},e,this)}),fetchCompanyDetail:m.a.mark(function e(a,t){var n,c,o,s,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,c=t.call,o=t.put,e.next=4,c(r);case 4:if(s=e.sent,i=s.data,1!==i.code){e.next=9;break}return e.next=9,o({type:"save",payload:{companyDetail:i.data.info}});case 9:case"end":return e.stop()}},e,this)}),postImg:m.a.mark(function e(a,t){var n,r,o,s,i,p,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,o=t.put,s=t.select,e.next=4,r(c,{file:n});case 4:if(i=e.sent,p=i.data,-1!==p.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==p.code){e.next=17;break}return d.a.success(p.msg),e.next=12,s(function(e){return e.company.imgUrl});case 12:return f=e.sent,e.next=15,o({type:"save",payload:{imgUrl:u()(f).concat([p.url])}});case 15:e.next=18;break;case 17:d.a.error(p.msg);case 18:n.onProgress({percent:100}),n.onSuccess();case 20:case"end":return e.stop()}},e,this)}),modifyCompany:m.a.mark(function e(a,t){var n,r,c,s,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload.form,r=t.call,c=t.put,e.next=4,r(o,{form:n});case 4:if(s=e.sent,i=s.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?d.a.success(i.msg):d.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,a){return i()({},e,a.payload)},saveImg:function(e,a){return i()({},e,{imgUrl:JSON.parse(a.payload.imgUrl)})}}}}});