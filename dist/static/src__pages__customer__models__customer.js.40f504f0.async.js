webpackJsonp([15],{"+3K8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Biqn"),r=a.n(n),c=a("fKPv"),o=a.n(c),s=(a("UQ5M"),a("/qCn")),i=a("En79"),d=a.n(i),u=a("hu02");t.default={namespace:"customer",state:{contractList:[],contractPage:1,contractTotal:0,detailList:[],detailPage:1,detailTotal:0,find_str:"",stime:"",etime:"",customOption:[],company:{},balanceList:[],balancePage:1,balanceTotal:0,balanceDetailedList:[],balanceDetailedPage:1,balanceDetailedTotal:0,companyOption:[],companyDetail:{},currentKey:"1",goodsOption:[],customer_id:"",account_status:"1",site_id:"",goods_id:"",historylist:[],historypage:1,historytotal:0},subscriptions:{setup:function(e){e.dispatch;return e.history.listen(function(e){e.pathname,e.query})}},effects:{salesContractFetch:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.find_str,s=void 0===o?"":o,i=a.call,p=a.put,e.next=4,i(u.salesContractFetch,{page:c,find_str:s});case 4:if(m=e.sent,l=m.data,1!==l.code){e.next=9;break}return e.next=9,p({type:"save",payload:{contractList:l.data.list,contractPage:parseInt(c,10),contractTotal:parseInt(l.data.count,10),find_str:s}});case 9:case"end":return e.stop()}},e,this)}),salesDetailFetch:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l,f,h,v,y;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.find_str,s=void 0===o?"":o,i=n.stime,p=void 0===i?"":i,m=n.etime,l=void 0===m?"":m,f=a.call,h=a.put,e.next=4,f(u.salesDetailFetch,{page:c,find_str:s,stime:p,etime:l});case 4:if(v=e.sent,y=v.data,1!==y.code){e.next=9;break}return e.next=9,h({type:"save",payload:{detailList:y.data.list,detailPage:parseInt(c,10),detailTotal:parseInt(y.data.count,10),find_str:s,stime:p,etime:l}});case 9:case"end":return e.stop()}},e,this)}),fetchOptions:d.a.mark(function e(t,a){var n,r,c,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(u.fetchOptions);case 4:if(o=e.sent,s=o.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{customOption:s.data.list}});case 9:case"end":return e.stop()}},e,this)}),addCustomerContract:d.a.mark(function e(t,a){var n,r,c,o,i,p,m,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.id,c=n.stime,o=n.etime,i=a.call,p=a.put,e.next=4,i(u.addCustomerContract,{id:r,stime:c,etime:o});case 4:if(m=e.sent,l=m.data,-1!==l.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===l.code?s.a.success(l.msg):s.a.error(l.msg);case 9:case"end":return e.stop()}},e,this)}),fetchCompany:d.a.mark(function e(t,a){var n,r,c,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(u.fetchCompany);case 4:if(o=e.sent,s=o.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{company:s.data.info}});case 9:case"end":return e.stop()}},e,this)}),balanceFetch:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l,f,h,v,y,b,_,g;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.find_str,s=void 0===o?"":o,i=n.stime,p=n.etime,m=n.customer_id,l=n.account_status,f=n.site_id,h=n.goods_id,v=n.conversion,y=a.call,b=a.put,e.next=4,y(u.getBalanceData,{page:c,find_str:s,stime:i,etime:p,customer_id:m,account_status:l,site_id:f,goods_id:h,conversion:v});case 4:if(_=e.sent,g=_.data,1!==g.code){e.next=9;break}return e.next=9,b({type:"save",payload:{balanceList:g.data.list,balancePage:parseInt(c,10),balanceTotal:parseInt(g.data.count,10),find_str:s,stime:i,etime:p}});case 9:case"end":return e.stop()}},e,this)}),balanceDetailedFetch:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l,f,h,v,y;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.find_str,s=void 0===o?"":o,i=n.stime,p=n.etime,m=n.conversion,l=n.id,f=a.call,h=a.put,e.next=4,f(u.balanceDetailedFetch,{page:c,find_str:s,stime:i,etime:p,conversion:m,id:l});case 4:if(v=e.sent,y=v.data,1!==y.code){e.next=9;break}return e.next=9,h({type:"save",payload:{balanceDetailedList:y.data.list,balanceDetailedPage:parseInt(c,10),balanceDetailedTotal:parseInt(y.data.count,10),find_str:s}});case 9:case"end":return e.stop()}},e,this)}),getCustomerCompany:d.a.mark(function e(t,a){var n,r,c,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(u.getCustomerCompany);case 4:if(o=e.sent,s=o.data,-1!==s.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==s.code){e.next=11;break}return e.next=11,c({type:"save",payload:{companyOption:s.data.list}});case 11:case"end":return e.stop()}},e,this)}),accountNum:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.find_str,c=void 0===r?"":r,o=n.stime,s=n.etime,i=a.call,p=a.put,e.next=4,i(u.accountNum,{find_str:c,stime:o,etime:s});case 4:if(m=e.sent,l=m.data,-1!==l.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==l.code){e.next=11;break}return e.next=11,p({type:"save",payload:{companyDetail:l.data.list}});case 11:case"end":return e.stop()}},e,this)}),balanceHistoryFetch:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.id,s=a.call,i=a.put,e.next=4,s(u.getBalanceHistoryData,{page:c,id:o});case 4:if(p=e.sent,m=p.data,1!==m.code){e.next=9;break}return e.next=9,i({type:"save",payload:{balanceHistoryList:m.data.list,balanceHistoryPage:parseInt(c,10),balanceHistoryTotal:parseInt(m.data.count,10)}});case 9:case"end":return e.stop()}},e,this)}),fetchGoods:d.a.mark(function e(t,a){var n,r,c,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(u.fetchGoods);case 4:if(o=e.sent,s=o.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{goodsOption:s.data.list}});case 9:case"end":return e.stop()}},e,this)}),confirmAccount:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(u.confirmAccount,{id:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)}),deleteAccount:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(u.deleteAccount,{id:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)}),saveChange:d.a.mark(function e(t,a){var n,r,c,s,i,u,p,m,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.customer_id,c=n.site_id,s=n.goods_id,i=n.account_status,u=a.call,p=a.put,m=void 0!==r?"customer_id":void 0!==c?"site_id":void 0!==s?"goods_id":void 0!==i?"account_status":"",l=r||c||s||i||"",console.log(m),console.log(l),e.next=8,p({type:"save",payload:o()({},m,l)});case 8:case"end":return e.stop()}},e,this)}),Reconciliation:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.ids,r=a.call,c=a.put,e.next=4,r(u.Reconciliation,{ids:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)}),Reconciliation2:d.a.mark(function e(t,a){var n,r,c,o,i,p,m,l,f,h,v;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.stime,c=n.etime,o=n.customer_id,i=n.account_status,p=n.site_id,m=n.goods_id,l=a.call,f=a.put,e.next=4,l(u.Reconciliation2,{stime:r,etime:c,customer_id:o,account_status:i,site_id:p,goods_id:m});case 4:if(h=e.sent,v=h.data,-1!==v.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==v.code){e.next=14;break}return s.a.success(v.msg),e.next=12,f({type:"save",payload:{account_status:""}});case 12:e.next=15;break;case 14:s.a.error(v.msg);case 15:case"end":return e.stop()}},e,this)}),fetchHistory:d.a.mark(function e(t,a){var n,r,c,o,s,i,p,m,l,f,h;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,o=n.stime,s=n.etime,i=n.customer_id,p=n.account_status,m=a.call,l=a.put,e.next=4,m(u.fetchHistory,{page:c,stime:o,etime:s,customer_id:i,account_status:p});case 4:if(f=e.sent,h=f.data,1!==h.code){e.next=9;break}return e.next=9,l({type:"save",payload:{historylist:h.data.list,historypage:parseInt(c,10),historytotal:parseInt(h.data.count,10),stime:o,etime:s,customer_id:i,account_status:p}});case 9:case"end":return e.stop()}},e,this)}),reconciliationConfirm:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(u.reconciliationConfirm,{id:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)}),kaipiao:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(u.kaipiao,{id:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)}),deleteduizhang:d.a.mark(function e(t,a){var n,r,c,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(u.deleteduizhang,{id:n});case 4:if(o=e.sent,i=o.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===i.code?s.a.success(i.msg):s.a.error(i.msg);case 9:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return r()({},e,t.payload)}}}},hu02:function(e,t,a){"use strict";function n(e){var t=e.page,a=e.find_str,n=new FormData;return n.append("page",t),n.append("limit",O.c),n.append("find_str",a),Object(w.a)("".concat(O.a,"/home/customer/sales-contract-list"),{method:"POST",body:n})}function r(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=new FormData;return c.append("page",t),c.append("limit",O.c),c.append("find_str",a),c.append("start_date",n?n.format("YYYY-MM-DD"):""),c.append("end_date",r?r.format("YYYY-MM-DD"):""),Object(w.a)("".concat(O.a,"/home/customer/sales-performance"),{method:"POST",body:c})}function c(){return Object(w.a)("".concat(O.a,"/home/select/customer"),{method:"POST"})}function o(){return Object(w.a)("".concat(O.a,"/home/select/goods"),{method:"POST"})}function s(e){var t=e.id,a=e.stime,n=e.etime,r=new FormData;return r.append("customer_id",t),r.append("start_date",a),r.append("end_date",n),Object(w.a)("".concat(O.a,"/home/customer/add-contract"),{method:"POST",body:r})}function i(){return Object(w.a)("".concat(O.a,"/home/company/company-info"),{method:"POST"})}function d(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=e.customer_id,o=e.account_status,s=e.site_id,i=e.goods_id,d=(e.conversion,new FormData);return d.append("page",t),d.append("limit",O.c),d.append("find_str",a),d.append("customer_id",c),d.append("account_status",o),d.append("site_id",s),d.append("goods_id",i),d.append("stime",n),d.append("etime",r),Object(w.a)("".concat(O.a,"/home/customer/customer-account"),{method:"POST",body:d})}function u(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=e.conversion,o=e.id,s=new FormData;return s.append("page",t),s.append("limit",O.c),s.append("find_str",a),s.append("id",o),c?(s.append("stime",n),s.append("etime",r)):(s.append("stime",n?n.format("YYYY-MM-DD"):""),s.append("etime",r?r.format("YYYY-MM-DD"):"")),Object(w.a)("".concat(O.a,"/home/customer/customer-account-detailed"),{method:"POST",body:s})}function p(){return Object(w.a)("".concat(O.a,"/home/select/customer"),{method:"POST"})}function m(e){var t=e.find_str,a=e.stime,n=e.etime,r=new FormData;return r.append("id",t),r.append("start_date",a?a.format("YYYY-MM-DD"):""),r.append("end_date",n?n.format("YYYY-MM-DD"):""),Object(w.a)("".concat(O.a,"/home/customer/customer-account-num"),{method:"POST",body:r})}function l(e){var t=e.page,a=(e.find_str,e.id),n=new FormData;return n.append("page",t),n.append("limit",O.c),n.append("id",a),Object(w.a)("".concat(O.a,"/home/customer/details"),{method:"POST",body:n})}function f(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/customer/confirm-customer-account"),{method:"POST",body:a})}function h(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/customer/delete-customer-account"),{method:"POST",body:a})}function v(e){var t=e.ids,a=new FormData;return a.append("ids",t),Object(w.a)("".concat(O.a,"/home/customer/set-account1"),{method:"POST",body:a})}function y(e){var t=e.stime,a=e.etime,n=e.customer_id,r=e.account_status,c=e.site_id,o=e.goods_id,s=new FormData;return s.append("stime",t),s.append("etime",a),s.append("customer_id",n),s.append("account_status",r),s.append("site_id",c),s.append("goods_id",o),Object(w.a)("".concat(O.a,"/home/customer/set-account2"),{method:"POST",body:s})}function b(e){var t=e.page,a=e.stime,n=e.etime,r=e.customer_id,c=e.account_status,o=new FormData;return o.append("page",t),o.append("limit",O.c),o.append("stime",a),o.append("etime",n),o.append("customer_id",r),o.append("account_status",c),Object(w.a)("".concat(O.a,"/home/customer/account-log"),{method:"POST",body:o})}function _(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/customer/confirm"),{method:"POST",body:a})}function g(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/customer/kaipiao"),{method:"POST",body:a})}function x(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/customer/delete"),{method:"POST",body:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.salesContractFetch=n,t.salesDetailFetch=r,t.fetchOptions=c,t.fetchGoods=o,t.addCustomerContract=s,t.fetchCompany=i,t.getBalanceData=d,t.balanceDetailedFetch=u,t.getCustomerCompany=p,t.accountNum=m,t.getBalanceHistoryData=l,t.confirmAccount=f,t.deleteAccount=h,t.Reconciliation=v,t.Reconciliation2=y,t.fetchHistory=b,t.reconciliationConfirm=_,t.kaipiao=g,t.deleteduizhang=x;var w=a("vLgD"),O=a("oiih")}});