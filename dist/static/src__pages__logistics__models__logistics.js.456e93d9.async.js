webpackJsonp([8],{siDj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Biqn"),n=a.n(r),s=a("fKPv"),c=a.n(s),i=(a("UQ5M"),a("/qCn")),o=a("En79"),u=a.n(o),d=a("fSis");t.default={namespace:"logistics",state:{list:[],page:1,total:0,list2:[],page2:1,total2:0,deliver_status:"",find_str:"",currentTab:"quanbu",stime:"",etime:"",statusNum:{},balanceList:[],balancePage:1,balanceTotal:0,balanceDetailedList:[],balanceDetailedPage:1,balanceDetailedTotal:0,balanceHistoryList:[],balanceHistoryPage:1,balanceHistoryTotal:0,companyOption:[],companyDetail:{},currentLogistics:{},currentIndex:0,logistics_company:"",account_status:"1",site_id:"",goods_id:"",logisticsOption:[]},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var a=e.pathname,r=e.query;"/logistics"===a&&(t({type:"getDeliverFee",payload:r}),t({type:"save",payload:{currentTab:"quanbu",currentIndex:0}}))})}},effects:{getDeliverList:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f,m,y,v,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.deliver_status,i=void 0===c?"":c,o=r.find_str,p=void 0===o?"":o,l=a.call,f=a.put,m=a.select,e.next=4,l(d.getDeliverList,{page:s,deliver_status:i,find_str:p});case 4:return y=e.sent,v=y.data,e.next=8,m(function(e){return e.logistics.currentIndex});case 8:if(x=e.sent,1!==v.code){e.next=14;break}return e.next=12,f({type:"save",payload:{list:v.data.list,page:parseInt(s,10),total:parseInt(v.data.count,10),deliver_status:i,find_str:p,statusNum:v.data.status_num,currentLogistics:v.data.list[x]}});case 12:return e.next=14,f({type:"home/save",payload:{currentLogistics:v.data.list[x]}});case 14:case"end":return e.stop()}},e,this)}),getDeliverFee:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f,m,y,v,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,i=void 0===c?"":c,o=r.stime,p=void 0===o?"":o,l=r.etime,f=void 0===l?"":l,m=a.call,y=a.put,e.next=4,m(d.getDeliverFee,{page:s,find_str:i,stime:p,etime:f});case 4:if(v=e.sent,x=v.data,1!==x.code){e.next=9;break}return e.next=9,y({type:"save",payload:{list2:x.data.list,page2:parseInt(s,10),total2:parseInt(x.data.count,10),stime:p,etime:f,find_str:i}});case 9:case"end":return e.stop()}},e,this)}),cancelDispatch:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(d.cancelDispatch,r);case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==o.code){e.next=14;break}return i.a.success(o.msg),e.next=12,s({type:"getDeliverList",payload:{page:1}});case 12:e.next=15;break;case 14:i.a.error(o.msg);case 15:case"end":return e.stop()}},e,this)}),acceptOrder:u.a.mark(function e(t,a){var r,n,s,c,o,p,l,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(d.acceptOrder,r);case 4:return o=e.sent,p=o.data,e.next=8,c(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,c(function(e){return e.order.order_type});case 11:if(f=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return i.a.success(p.msg),e.next=18,s({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,s({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:f}});case 20:e.next=23;break;case 22:i.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),refuseOrder:u.a.mark(function e(t,a){var r,n,s,c,o,p,l,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(d.refuseOrder,r);case 4:return o=e.sent,p=o.data,e.next=8,c(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,c(function(e){return e.order.order_type});case 11:if(f=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return i.a.success(p.msg),e.next=18,s({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,s({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:f}});case 20:e.next=23;break;case 22:i.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),balanceFetch:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f,m,y,v,x,g,b,_;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,i=void 0===c?"":c,o=r.stime,p=r.etime,l=r.logistics_company,f=r.account_status,m=r.site_id,y=r.goods_id,v=r.conversion,x=a.call,g=a.put,e.next=4,x(d.getBalanceData,{page:s,find_str:i,stime:o,etime:p,logistics_company:l,account_status:f,site_id:m,goods_id:y,conversion:v});case 4:if(b=e.sent,_=b.data,1!==_.code){e.next=9;break}return e.next=9,g({type:"save",payload:{balanceList:_.data.list,balancePage:parseInt(s,10),balanceTotal:parseInt(_.data.count,10),find_str:i,stime:o,etime:p}});case 9:case"end":return e.stop()}},e,this)}),balanceDetailedFetch:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f,m,y,v,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,i=void 0===c?"":c,o=r.stime,p=r.etime,l=r.conversion,f=r.id,m=a.call,y=a.put,e.next=4,m(d.balanceDetailedFetch,{page:s,find_str:i,stime:o,etime:p,conversion:l,id:f});case 4:if(v=e.sent,x=v.data,1!==x.code){e.next=9;break}return e.next=9,y({type:"save",payload:{balanceDetailedList:x.data.list,balanceDetailedPage:parseInt(s,10),balanceDetailedTotal:parseInt(x.data.count,10),find_str:i}});case 9:case"end":return e.stop()}},e,this)}),balanceHistoryFetch:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.id,i=a.call,o=a.put,e.next=4,i(d.getBalanceHistoryData,{page:s,id:c});case 4:if(p=e.sent,l=p.data,1!==l.code){e.next=9;break}return e.next=9,o({type:"save",payload:{balanceHistoryList:l.data.list,balanceHistoryPage:parseInt(s,10),balanceHistoryTotal:parseInt(l.data.count,10)}});case 9:case"end":return e.stop()}},e,this)}),confirmAccount:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(d.confirmAccount,{id:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),deleteAccount:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(d.deleteAccount,{id:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),getLogisticsCompany:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(d.getLogisticsCompany);case 4:if(c=e.sent,i=c.data,-1!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=11;break}return e.next=11,s({type:"save",payload:{companyOption:i.data.list}});case 11:case"end":return e.stop()}},e,this)}),accountNum:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.find_str,s=void 0===n?"":n,c=r.stime,i=r.etime,o=a.call,p=a.put,e.next=4,o(d.accountNum,{find_str:s,stime:c,etime:i});case 4:if(l=e.sent,f=l.data,-1!==f.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==f.code){e.next=11;break}return e.next=11,p({type:"save",payload:{companyDetail:f.data.list}});case 11:case"end":return e.stop()}},e,this)}),saveChange:u.a.mark(function e(t,a){var r,n,s,i,o,d,p,l,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.logistics_company,s=r.site_id,i=r.goods_id,o=r.account_status,d=a.call,p=a.put,l=void 0!==n?"logistics_company":void 0!==s?"site_id":void 0!==i?"goods_id":void 0!==o?"account_status":"",f=n||s||i||o||"",console.log(l),console.log(f),e.next=8,p({type:"save",payload:c()({},l,f)});case 8:case"end":return e.stop()}},e,this)}),fetchHistory:u.a.mark(function e(t,a){var r,n,s,c,i,o,p,l,f,m,y;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.stime,i=r.etime,o=r.logistics_company,p=r.account_status,l=a.call,f=a.put,e.next=4,l(d.fetchHistory,{page:s,stime:c,etime:i,logistics_company:o,account_status:p});case 4:if(m=e.sent,y=m.data,1!==y.code){e.next=9;break}return e.next=9,f({type:"save",payload:{historylist:y.data.list,historypage:parseInt(s,10),historytotal:parseInt(y.data.count,10),stime:c,etime:i,logistics_company:o,account_status:p}});case 9:case"end":return e.stop()}},e,this)}),reconciliationConfirm:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(d.reconciliationConfirm,{id:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),kaipiao:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(d.kaipiao,{id:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),deleteduizhang:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,s=a.put,e.next=4,n(d.deleteduizhang,{id:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),Reconciliation:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.ids,n=a.call,s=a.put,e.next=4,n(d.Reconciliation,{ids:r});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?i.a.success(o.msg):i.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),Reconciliation2:u.a.mark(function e(t,a){var r,n,s,c,o,p,l,f,m,y,v;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.stime,s=r.etime,c=r.logistics_company,o=r.account_status,p=r.site_id,l=r.goods_id,f=a.call,m=a.put,e.next=4,f(d.Reconciliation2,{stime:n,etime:s,logistics_company:c,account_status:o,site_id:p,goods_id:l});case 4:if(y=e.sent,v=y.data,-1!==v.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==v.code){e.next=14;break}return i.a.success(v.msg),e.next=12,m({type:"save",payload:{account_status:""}});case 12:e.next=15;break;case 14:i.a.error(v.msg);case 15:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});