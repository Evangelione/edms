webpackJsonp([8],{siDj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Biqn"),n=a.n(r),s=(a("UQ5M"),a("/qCn")),c=a("En79"),i=a.n(c),o=a("fSis");t.default={namespace:"logistics",state:{list:[],page:1,total:0,list2:[],page2:1,total2:0,deliver_status:"",find_str:"",currentTab:"quanbu",stime:"",etime:"",statusNum:{},balanceList:[],balancePage:1,balanceTotal:0,balanceDetailedList:[],balanceDetailedPage:1,balanceDetailedTotal:0,balanceHistoryList:[],balanceHistoryPage:1,balanceHistoryTotal:0,companyOption:[],companyDetail:{},currentLogistics:{},currentIndex:0},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var a=e.pathname,r=e.query;"/logistics"===a&&(t({type:"balanceFetch",payload:r}),t({type:"getDeliverFee",payload:r}),t({type:"save",payload:{currentTab:"quanbu",currentIndex:0}}))})}},effects:{getDeliverList:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f,v,x,y,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.deliver_status,u=void 0===c?"":c,d=r.find_str,p=void 0===d?"":d,l=a.call,f=a.put,v=a.select,e.next=4,l(o.getDeliverList,{page:s,deliver_status:u,find_str:p});case 4:return x=e.sent,y=x.data,e.next=8,v(function(e){return e.logistics.currentIndex});case 8:if(m=e.sent,1!==y.code){e.next=14;break}return e.next=12,f({type:"save",payload:{list:y.data.list,page:parseInt(s,10),total:parseInt(y.data.count,10),deliver_status:u,find_str:p,statusNum:y.data.status_num,currentLogistics:y.data.list[m]}});case 12:return e.next=14,f({type:"home/save",payload:{currentLogistics:y.data.list[m]}});case 14:case"end":return e.stop()}},e,this)}),getDeliverFee:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f,v,x,y,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,u=void 0===c?"":c,d=r.stime,p=void 0===d?"":d,l=r.etime,f=void 0===l?"":l,v=a.call,x=a.put,e.next=4,v(o.getDeliverFee,{page:s,find_str:u,stime:p,etime:f});case 4:if(y=e.sent,m=y.data,1!==m.code){e.next=9;break}return e.next=9,x({type:"save",payload:{list2:m.data.list,page2:parseInt(s,10),total2:parseInt(m.data.count,10),stime:p,etime:f,find_str:u}});case 9:case"end":return e.stop()}},e,this)}),cancelDispatch:i.a.mark(function e(t,a){var r,n,c,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(o.cancelDispatch,r);case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=14;break}return s.a.success(d.msg),e.next=12,c({type:"getDeliverList",payload:{page:1}});case 12:e.next=15;break;case 14:s.a.error(d.msg);case 15:case"end":return e.stop()}},e,this)}),acceptOrder:i.a.mark(function e(t,a){var r,n,c,u,d,p,l,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,u=a.select,e.next=4,n(o.acceptOrder,r);case 4:return d=e.sent,p=d.data,e.next=8,u(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,u(function(e){return e.order.order_type});case 11:if(f=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return s.a.success(p.msg),e.next=18,c({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,c({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:f}});case 20:e.next=23;break;case 22:s.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),refuseOrder:i.a.mark(function e(t,a){var r,n,c,u,d,p,l,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,u=a.select,e.next=4,n(o.refuseOrder,r);case 4:return d=e.sent,p=d.data,e.next=8,u(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,u(function(e){return e.order.order_type});case 11:if(f=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return s.a.success(p.msg),e.next=18,c({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,c({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:f}});case 20:e.next=23;break;case 22:s.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),balanceFetch:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f,v,x,y;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,u=void 0===c?"":c,d=r.stime,p=r.etime,l=r.conversion,f=a.call,v=a.put,e.next=4,f(o.getBalanceData,{page:s,find_str:u,stime:d,etime:p,conversion:l});case 4:if(x=e.sent,y=x.data,1!==y.code){e.next=9;break}return e.next=9,v({type:"save",payload:{balanceList:y.data.list,balancePage:parseInt(s,10),balanceTotal:parseInt(y.data.count,10),find_str:u}});case 9:case"end":return e.stop()}},e,this)}),balanceDetailedFetch:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f,v,x,y,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,u=void 0===c?"":c,d=r.stime,p=r.etime,l=r.conversion,f=r.id,v=a.call,x=a.put,e.next=4,v(o.balanceDetailedFetch,{page:s,find_str:u,stime:d,etime:p,conversion:l,id:f});case 4:if(y=e.sent,m=y.data,1!==m.code){e.next=9;break}return e.next=9,x({type:"save",payload:{balanceDetailedList:m.data.list,balanceDetailedPage:parseInt(s,10),balanceDetailedTotal:parseInt(m.data.count,10),find_str:u}});case 9:case"end":return e.stop()}},e,this)}),balanceHistoryFetch:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f,v,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,u=void 0===c?"":c,d=r.stime,p=r.etime,l=a.call,f=a.put,e.next=4,l(o.getBalanceHistoryData,{page:s,find_str:u,stime:d,etime:p});case 4:if(v=e.sent,x=v.data,1!==x.code){e.next=9;break}return e.next=9,f({type:"save",payload:{balanceHistoryList:x.data.list,balanceHistoryPage:parseInt(s,10),balanceHistoryTotal:parseInt(x.data.count,10),find_str:u}});case 9:case"end":return e.stop()}},e,this)}),confirmAccount:i.a.mark(function e(t,a){var r,n,c,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,c=a.put,e.next=4,n(o.confirmAccount,{id:r});case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===d.code?s.a.success(d.msg):s.a.error(d.msg);case 9:case"end":return e.stop()}},e,this)}),deleteAccount:i.a.mark(function e(t,a){var r,n,c,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.id,n=a.call,c=a.put,e.next=4,n(o.deleteAccount,{id:r});case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===d.code?s.a.success(d.msg):s.a.error(d.msg);case 9:case"end":return e.stop()}},e,this)}),getLogisticsCompany:i.a.mark(function e(t,a){var r,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(o.getLogisticsCompany);case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=11;break}return e.next=11,s({type:"save",payload:{companyOption:u.data.list}});case 11:case"end":return e.stop()}},e,this)}),accountNum:i.a.mark(function e(t,a){var r,n,s,c,u,d,p,l,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.find_str,s=void 0===n?"":n,c=r.stime,u=r.etime,d=a.call,p=a.put,e.next=4,d(o.accountNum,{find_str:s,stime:c,etime:u});case 4:if(l=e.sent,f=l.data,-1!==f.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==f.code){e.next=11;break}return e.next=11,p({type:"save",payload:{companyDetail:f.data.list}});case 11:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});