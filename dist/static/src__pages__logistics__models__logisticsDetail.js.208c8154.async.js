webpackJsonp([5],{Gj0I:function(e,t,n){"use strict";function r(e){var t=e.duration,n=e.placement,r=e.bottom,a=e.top,o=e.getContainer;void 0!==t&&(f=t),void 0!==n&&(x=n),void 0!==r&&(m=r),void 0!==a&&(y=a),void 0!==o&&(v=o)}function a(e){var t=void 0;switch(e){case"topLeft":t={left:0,top:y,bottom:"auto"};break;case"topRight":t={right:0,top:y,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:m};break;default:t={right:0,top:"auto",bottom:m}}return t}function o(e,t,n){var r=e+"-"+t;if(l[r])return void n(l[r]);d.a.newInstance({prefixCls:e,className:e+"-"+t,style:a(t),getContainer:v,closeIcon:u.createElement(p.a,{className:e+"-close-icon",type:"close"})},function(e){l[r]=e,n(e)})}function s(e){var t=e.prefixCls||"ant-notification",n=t+"-notice",r=void 0===e.duration?f:e.duration,a=null;if(e.icon)a=u.createElement("span",{className:n+"-icon"},e.icon);else if(e.type){var s=b[e.type];a=u.createElement(p.a,{className:n+"-icon "+n+"-icon-"+e.type,type:s})}var c=!e.description&&a?u.createElement("span",{className:n+"-message-single-line-auto-margin"}):null;o(t,e.placement||x,function(t){t.notice({content:u.createElement("div",{className:a?n+"-with-icon":""},a,u.createElement("div",{className:n+"-message"},c,e.message),u.createElement("div",{className:n+"-description"},e.description),e.btn?u.createElement("span",{className:n+"-btn"},e.btn):null),duration:r,closable:!0,onClose:e.onClose,key:e.key,style:e.style||{},className:e.className})})}var c=n("Dd8w"),i=n.n(c),u=n("GiK3"),d=(n.n(u),n("Hx0i")),p=n("FC3+"),l={},f=4.5,y=24,m=24,x="topRight",v=void 0,b={success:"check-circle-o",info:"info-circle-o",error:"close-circle-o",warning:"exclamation-circle-o"},g={open:s,close:function(e){Object.keys(l).forEach(function(t){return l[t].removeNotice(e)})},config:r,destroy:function(){Object.keys(l).forEach(function(e){l[e].destroy(),delete l[e]})}};["success","info","warning","error"].forEach(function(e){g[e]=function(t){return g.open(i()({},t,{type:e}))}}),g.warn=g.warning,t.a=g},QX4N:function(e,t,n){"use strict";var r=n("vtiu"),a=(n.n(r),n("Sydc"));n.n(a)},Sydc:function(e,t){},qH3q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Biqn"),a=n.n(r),o=(n("QX4N"),n("Gj0I")),s=(n("UQ5M"),n("/qCn")),c=n("En79"),i=n.n(c),u=n("fSis");t.default={namespace:"logisticsDetail",state:{step:0,detailForm:"",companyOption:[],carOption:{car_head:[],car_body:[],driver:[],supercargo:[]},billLoading:!1,showMap:!1},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var n=e.pathname,r=e.query;"/logistics/logisticsDetail"===n&&t({type:"getDetail",payload:r})})}},effects:{getDetail:i.a.mark(function e(t,n){var r,a,o,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(u.getDetail,r);case 4:if(s=e.sent,c=s.data,1!==c.code){e.next=11;break}return e.next=9,o({type:"save",payload:{detailForm:c.data.order,step:c.data.order.deliver_status}});case 9:return e.next=11,o({type:"home/save",payload:{detailForm:c.data.order,step:c.data.order.deliver_status}});case 11:case"end":return e.stop()}},e,this)}),getCompanyOption:i.a.mark(function e(t,n){var r,a,o,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(u.getCompanyOption,r);case 4:if(s=e.sent,c=s.data,1!==c.code){e.next=11;break}return e.next=9,o({type:"save",payload:{companyOption:c.data.list}});case 9:return e.next=11,o({type:"home/save",payload:{companyOption:c.data.list}});case 11:case"end":return e.stop()}},e,this)}),getCarOption:i.a.mark(function e(t,n){var r,a,o,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,e.next=4,a(u.getCarOption,r);case 4:if(s=e.sent,c=s.data,1!==c.code){e.next=11;break}return e.next=9,o({type:"save",payload:{carOption:c.data}});case 9:return e.next=11,o({type:"home/save",payload:{carOption:c.data}});case 11:case"end":return e.stop()}},e,this)}),doDispatch:i.a.mark(function e(t,n){var r,a,o,c,d,p,l,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=n.call,o=n.put,c=n.select,e.next=4,a(u.doDispatch,r);case 4:return d=e.sent,p=d.data,e.next=8,c(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,c(function(e){return e.order.order_type});case 11:if(f=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return s.a.success(p.msg),e.next=18,o({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,o({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:f}});case 20:e.next=23;break;case 22:s.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),uploadPound:i.a.mark(function e(t,n){var r,a,o,c,d,p,l,f,y,m,x,v,b;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=r.file,o=r.id,c=r.load_type,d=r.num,p=r.load_time,l=n.call,f=n.put,y=n.select,e.next=4,l(u.uploadPound,{file:a,id:o,load_type:c,num:d,load_time:p});case 4:return m=e.sent,x=m.data,e.next=8,y(function(e){return e.order.find_str});case 8:return v=e.sent,e.next=11,y(function(e){return e.order.order_type});case 11:if(b=e.sent,-1!==x.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==x.code){e.next=22;break}return s.a.success(x.msg),e.next=18,f({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,f({type:"order/fetch",payload:{find_str:v,order_status:"3",order_type:b}});case 20:e.next=23;break;case 22:s.a.error(x.msg);case 23:case"end":return e.stop()}},e,this)}),uploadUnPound:i.a.mark(function e(t,n){var r,a,o,c,d,p,l,f,y,m,x,v,b;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=r.file,o=r.id,c=r.load_type,d=r.num,p=r.unload_time,l=n.call,f=n.put,y=n.select,e.next=4,l(u.uploadUnPound,{file:a,id:o,load_type:c,num:d,unload_time:p});case 4:return m=e.sent,x=m.data,e.next=8,y(function(e){return e.order.find_str});case 8:return v=e.sent,e.next=11,y(function(e){return e.order.order_type});case 11:if(b=e.sent,-1!==x.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==x.code){e.next=22;break}return s.a.success(x.msg),e.next=18,f({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,f({type:"order/fetch",payload:{find_str:v,order_status:"3",order_type:b}});case 20:e.next=23;break;case 22:s.a.error(x.msg);case 23:case"end":return e.stop()}},e,this)}),confirmBill:i.a.mark(function e(t,n){var r,a,s,c,d,p,l,f,y,m,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,a=r.id,s=r.load_num,c=r.unload_num,d=n.call,p=n.put,l=n.select,e.next=4,p({type:"save",payload:{billLoading:!0}});case 4:return e.next=6,d(u.confirmBill,{id:a,load_num:s,unload_num:c});case 6:return f=e.sent,y=f.data,e.next=10,l(function(e){return e.order.find_str});case 10:return m=e.sent,e.next=13,l(function(e){return e.order.order_type});case 13:if(x=e.sent,-1!==y.code){e.next=16;break}return e.abrupt("return",!1);case 16:if(1!==y.code){e.next=24;break}return e.next=19,p({type:"order/save",payload:{currentTab:"icon-icon-test2",currentIndex:0}});case 19:return e.next=21,p({type:"order/fetch",payload:{find_str:m,order_status:"4",order_type:x}});case 21:o.a.success({message:"\u6e29\u99a8\u63d0\u793a",description:"\u8c03\u5ea6\u5df2\u5b8c\u6210\uff0c\u8bf7\u524d\u5f80 \u6211\u7684\u8ba2\u5355 \u786e\u8ba4\u7ed3\u7b97",duration:6}),e.next=25;break;case 24:o.a.error({message:"\u6e29\u99a8\u63d0\u793a",description:y.msg,duration:6});case 25:return e.next=27,p({type:"save",payload:{billLoading:!1}});case 27:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return a()({},e,t.payload)}}}}});