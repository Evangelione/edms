webpackJsonp([5],{Gj0I:function(e,t,a){"use strict";function n(e){var t=e.duration,a=e.placement,n=e.bottom,r=e.top,o=e.getContainer;void 0!==t&&(m=t),void 0!==a&&(v=a),void 0!==n&&(y=n),void 0!==r&&(f=r),void 0!==o&&(b=o)}function r(e){var t=void 0;switch(e){case"topLeft":t={left:0,top:f,bottom:"auto"};break;case"topRight":t={right:0,top:f,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:y};break;default:t={right:0,top:"auto",bottom:y}}return t}function o(e,t,a){var n=e+"-"+t;if(l[n])return void a(l[n]);p.a.newInstance({prefixCls:e,className:e+"-"+t,style:r(t),getContainer:b,closeIcon:d.createElement(u.a,{className:e+"-close-icon",type:"close"})},function(e){l[n]=e,a(e)})}function c(e){var t=e.prefixCls||"ant-notification",a=t+"-notice",n=void 0===e.duration?m:e.duration,r=null;if(e.icon)r=d.createElement("span",{className:a+"-icon"},e.icon);else if(e.type){var c=h[e.type];r=d.createElement(u.a,{className:a+"-icon "+a+"-icon-"+e.type,type:c})}var i=!e.description&&r?d.createElement("span",{className:a+"-message-single-line-auto-margin"}):null;o(t,e.placement||v,function(t){t.notice({content:d.createElement("div",{className:r?a+"-with-icon":""},r,d.createElement("div",{className:a+"-message"},i,e.message),d.createElement("div",{className:a+"-description"},e.description),e.btn?d.createElement("span",{className:a+"-btn"},e.btn):null),duration:n,closable:!0,onClose:e.onClose,key:e.key,style:e.style||{},className:e.className})})}var i=a("Dd8w"),s=a.n(i),d=a("GiK3"),p=(a.n(d),a("Hx0i")),u=a("FC3+"),l={},m=4.5,f=24,y=24,v="topRight",b=void 0,h={success:"check-circle-o",info:"info-circle-o",error:"close-circle-o",warning:"exclamation-circle-o"},g={open:c,close:function(e){Object.keys(l).forEach(function(t){return l[t].removeNotice(e)})},config:n,destroy:function(){Object.keys(l).forEach(function(e){l[e].destroy(),delete l[e]})}};["success","info","warning","error"].forEach(function(e){g[e]=function(t){return g.open(s()({},t,{type:e}))}}),g.warn=g.warning,t.a=g},QX4N:function(e,t,a){"use strict";var n=a("vtiu"),r=(a.n(n),a("Sydc"));a.n(r)},Sydc:function(e,t){},fSis:function(e,t,a){"use strict";function n(e){var t=e.page,a=e.deliver_status,n=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",Y.c),r.append("deliver_status",a),r.append("find_str",n),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-list"),{method:"POST",body:r})}function r(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,o=new FormData;return o.append("page",t),o.append("limit",Y.c),o.append("find_str",a),o.append("stime",n?n.format("YYYY-MM-DD"):""),o.append("etime",r?r.format("YYYY-MM-DD"):""),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-fee"),{method:"POST",body:o})}function o(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-info"),{method:"POST",body:a})}function c(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/cancel-dispatch"),{method:"POST",body:a})}function i(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/recv"),{method:"POST",body:a})}function s(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/refuse"),{method:"POST",body:a})}function d(){return Object(w.a)("".concat(Y.a,"/home/select/logistics-company"),{method:"POST"})}function p(e){var t=e.logistic_company,a=new FormData;return a.append("logistic_company",t),Object(w.a)("".concat(Y.a,"/home/select/car"),{method:"POST",body:a})}function u(e){var t=e.form,a=new FormData;return D()(t).forEach(function(e,n){a.append(e,t[e])}),Object(w.a)("".concat(Y.a,"/home/logistics/dispatch"),{method:"POST",body:a})}function l(e){var t=e.file,a=e.id,n=e.load_type,r=e.num,o=e.load_time,c=new FormData;return c.append(t.filename,t.file),c.append("id",a),c.append("load_type",n),c.append("load_time",o),c.append("num",r),Object(w.a)(t.action,{method:"POST",body:c})}function m(e){var t=e.file,a=e.id,n=e.load_type,r=e.num,o=e.unload_time,c=new FormData;return c.append(t.filename,t.file),c.append("id",a),c.append("load_type",n),c.append("unload_time",o),c.append("num",r),Object(w.a)(t.action,{method:"POST",body:c})}function f(e){var t=e.id,a=e.load_num,n=e.unload_num,r=new FormData;return r.append("id",t),r.append("load_num",a),r.append("unload_num",n),Object(w.a)("".concat(Y.a,"/home/logistics/confirm-bill"),{method:"POST",body:r})}function y(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,o=e.conversion,c=new FormData;return c.append("page",t),c.append("limit",Y.c),c.append("find_str",a),o?(c.append("stime",n),c.append("etime",r)):(c.append("stime",n?n.format("YYYY-MM-DD"):""),c.append("etime",r?r.format("YYYY-MM-DD"):"")),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-account"),{method:"POST",body:c})}function v(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,o=e.conversion,c=e.id,i=new FormData;return i.append("page",t),i.append("limit",Y.c),i.append("find_str",a),i.append("id",c),o?(i.append("stime",n),i.append("etime",r)):(i.append("stime",n?n.format("YYYY-MM-DD"):""),i.append("etime",r?r.format("YYYY-MM-DD"):"")),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-account-detailed"),{method:"POST",body:i})}function b(e){var t=e.page,a=e.find_str,n=(e.stime,e.etime,new FormData);return n.append("page",t),n.append("limit",Y.c),n.append("find_str",a),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-account-log"),{method:"POST",body:n})}function h(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/confirm-deliver-account"),{method:"POST",body:a})}function g(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(Y.a,"/home/logistics/delete-deliver-account"),{method:"POST",body:a})}function _(){return Object(w.a)("".concat(Y.a,"/home/select/logistics-company"),{method:"POST"})}function x(e){var t=e.find_str,a=e.stime,n=e.etime,r=new FormData;return r.append("find_str",t),r.append("stime",a?a.format("YYYY-MM-DD"):""),r.append("etime",n?n.format("YYYY-MM-DD"):""),Object(w.a)("".concat(Y.a,"/home/logistics/deliver-account-num"),{method:"POST",body:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.getDeliverList=n,t.getDeliverFee=r,t.getDetail=o,t.cancelDispatch=c,t.acceptOrder=i,t.refuseOrder=s,t.getCompanyOption=d,t.getCarOption=p,t.doDispatch=u,t.uploadPound=l,t.uploadUnPound=m,t.confirmBill=f,t.getBalanceData=y,t.balanceDetailedFetch=v,t.getBalanceHistoryData=b,t.confirmAccount=h,t.deleteAccount=g,t.getLogisticsCompany=_,t.accountNum=x;var O=a("qO4g"),D=a.n(O),w=a("vLgD"),Y=a("oiih")},qH3q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Biqn"),r=a.n(n),o=(a("QX4N"),a("Gj0I")),c=(a("UQ5M"),a("/qCn")),i=a("En79"),s=a.n(i),d=a("fSis");t.default={namespace:"logisticsDetail",state:{step:0,detailForm:"",companyOption:[],carOption:{car_head:[],car_body:[],driver:[],supercargo:[]},billLoading:!1,showMap:!1},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var a=e.pathname,n=e.query;"/logistics/logisticsDetail"===a&&t({type:"getDetail",payload:n})})}},effects:{getDetail:s.a.mark(function e(t,a){var n,r,o,c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,o=a.put,e.next=4,r(d.getDetail,n);case 4:if(c=e.sent,i=c.data,1!==i.code){e.next=11;break}return e.next=9,o({type:"save",payload:{detailForm:i.data.order,step:i.data.order.deliver_status}});case 9:return e.next=11,o({type:"home/save",payload:{detailForm:i.data.order,step:i.data.order.deliver_status}});case 11:case"end":return e.stop()}},e,this)}),getCompanyOption:s.a.mark(function e(t,a){var n,r,o,c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,o=a.put,e.next=4,r(d.getCompanyOption,n);case 4:if(c=e.sent,i=c.data,1!==i.code){e.next=11;break}return e.next=9,o({type:"save",payload:{companyOption:i.data.list}});case 9:return e.next=11,o({type:"home/save",payload:{companyOption:i.data.list}});case 11:case"end":return e.stop()}},e,this)}),getCarOption:s.a.mark(function e(t,a){var n,r,o,c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,o=a.put,e.next=4,r(d.getCarOption,n);case 4:if(c=e.sent,i=c.data,1!==i.code){e.next=11;break}return e.next=9,o({type:"save",payload:{carOption:i.data}});case 9:return e.next=11,o({type:"home/save",payload:{carOption:i.data}});case 11:case"end":return e.stop()}},e,this)}),doDispatch:s.a.mark(function e(t,a){var n,r,o,i,p,u,l,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,o=a.put,i=a.select,e.next=4,r(d.doDispatch,n);case 4:return p=e.sent,u=p.data,e.next=8,i(function(e){return e.order.find_str});case 8:return l=e.sent,e.next=11,i(function(e){return e.order.order_type});case 11:if(m=e.sent,-1!==u.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==u.code){e.next=22;break}return c.a.success(u.msg),e.next=18,o({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,o({type:"order/fetch",payload:{find_str:l,order_status:"3",order_type:m}});case 20:e.next=23;break;case 22:c.a.error(u.msg);case 23:case"end":return e.stop()}},e,this)}),uploadPound:s.a.mark(function e(t,a){var n,r,o,i,p,u,l,m,f,y,v,b,h;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.file,o=n.id,i=n.load_type,p=n.num,u=n.load_time,l=a.call,m=a.put,f=a.select,e.next=4,l(d.uploadPound,{file:r,id:o,load_type:i,num:p,load_time:u});case 4:return y=e.sent,v=y.data,e.next=8,f(function(e){return e.order.find_str});case 8:return b=e.sent,e.next=11,f(function(e){return e.order.order_type});case 11:if(h=e.sent,-1!==v.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==v.code){e.next=22;break}return c.a.success(v.msg),e.next=18,m({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,m({type:"order/fetch",payload:{find_str:b,order_status:"3",order_type:h}});case 20:e.next=23;break;case 22:c.a.error(v.msg);case 23:case"end":return e.stop()}},e,this)}),uploadUnPound:s.a.mark(function e(t,a){var n,r,o,i,p,u,l,m,f,y,v,b,h;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.file,o=n.id,i=n.load_type,p=n.num,u=n.unload_time,l=a.call,m=a.put,f=a.select,e.next=4,l(d.uploadUnPound,{file:r,id:o,load_type:i,num:p,unload_time:u});case 4:return y=e.sent,v=y.data,e.next=8,f(function(e){return e.order.find_str});case 8:return b=e.sent,e.next=11,f(function(e){return e.order.order_type});case 11:if(h=e.sent,-1!==v.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==v.code){e.next=22;break}return c.a.success(v.msg),e.next=18,m({type:"order/save",payload:{currentTab:"icon-icon-test",currentIndex:0}});case 18:return e.next=20,m({type:"order/fetch",payload:{find_str:b,order_status:"3",order_type:h}});case 20:e.next=23;break;case 22:c.a.error(v.msg);case 23:case"end":return e.stop()}},e,this)}),confirmBill:s.a.mark(function e(t,a){var n,r,c,i,p,u,l,m,f,y,v;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.id,c=n.load_num,i=n.unload_num,p=a.call,u=a.put,l=a.select,e.next=4,u({type:"save",payload:{billLoading:!0}});case 4:return e.next=6,p(d.confirmBill,{id:r,load_num:c,unload_num:i});case 6:return m=e.sent,f=m.data,e.next=10,l(function(e){return e.order.find_str});case 10:return y=e.sent,e.next=13,l(function(e){return e.order.order_type});case 13:if(v=e.sent,-1!==f.code){e.next=16;break}return e.abrupt("return",!1);case 16:if(1!==f.code){e.next=24;break}return e.next=19,u({type:"order/save",payload:{currentTab:"icon-icon-test2",currentIndex:0}});case 19:return e.next=21,u({type:"order/fetch",payload:{find_str:y,order_status:"4",order_type:v}});case 21:o.a.success({message:"\u6e29\u99a8\u63d0\u793a",description:"\u8c03\u5ea6\u5df2\u5b8c\u6210\uff0c\u8bf7\u524d\u5f80 \u6211\u7684\u8ba2\u5355 \u786e\u8ba4\u7ed3\u7b97",duration:6}),e.next=25;break;case 24:o.a.error({message:"\u6e29\u99a8\u63d0\u793a",description:f.msg,duration:6});case 25:return e.next=27,u({type:"save",payload:{billLoading:!1}});case 27:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return r()({},e,t.payload)}}}}});