webpackJsonp([10],{fSis:function(e,a,t){"use strict";function n(e){var a=e.page,t=e.deliver_status,n=e.find_str,r=new FormData;return r.append("page",a),r.append("limit",b.b),r.append("deliver_status",t),r.append("find_str",n),Object(g.a)("".concat(b.a,"/home/logistics/deliver-list"),{method:"POST",body:r})}function r(e){var a=e.page,t=e.find_str,n=e.stime,r=e.etime,o=new FormData;return o.append("page",a),o.append("limit",b.b),o.append("find_str",t),o.append("stime",n),o.append("etime",r),Object(g.a)("".concat(b.a,"/home/logistics/deliver-fee"),{method:"POST",body:o})}function o(e){var a=e.id,t=new FormData;return t.append("id",a),Object(g.a)("".concat(b.a,"/home/logistics/deliver-info"),{method:"POST",body:t})}function i(e){var a=e.id,t=new FormData;return t.append("id",a),Object(g.a)("".concat(b.a,"/home/logistics/cancel-dispatch"),{method:"POST",body:t})}function c(e){var a=e.id,t=new FormData;return t.append("id",a),Object(g.a)("".concat(b.a,"/home/logistics/recv"),{method:"POST",body:t})}function s(e){var a=e.id,t=new FormData;return t.append("id",a),Object(g.a)("".concat(b.a,"/home/logistics/refuse"),{method:"POST",body:t})}function d(){return Object(g.a)("".concat(b.a,"/home/select/logistics-company"),{method:"POST"})}function p(e){var a=e.logistic_company,t=new FormData;return t.append("logistic_company",a),Object(g.a)("".concat(b.a,"/home/select/car"),{method:"POST",body:t})}function u(e){var a=e.form,t=new FormData;return y()(a).forEach(function(e,n){t.append(e,a[e])}),Object(g.a)("".concat(b.a,"/home/logistics/dispatch"),{method:"POST",body:t})}function l(e){var a=e.file,t=e.id,n=e.load_type,r=e.num,o=new FormData;return o.append(a.filename,a.file),o.append("id",t),o.append("load_type",n),o.append("num",r),Object(g.a)(a.action,{method:"POST",body:o})}function m(e){var a=e.id,t=e.load_num,n=e.unload_num,r=new FormData;return r.append("id",a),r.append("load_num",t),r.append("unload_num",n),Object(g.a)("".concat(b.a,"/home/logistics/confirm-bill"),{method:"POST",body:r})}Object.defineProperty(a,"__esModule",{value:!0}),a.getDeliverList=n,a.getDeliverFee=r,a.getDetail=o,a.cancelDispatch=i,a.acceptOrder=c,a.refuseOrder=s,a.getCompanyOption=d,a.getCarOption=p,a.doDispatch=u,a.uploadPound=l,a.confirmBill=m;var f=t("oXS2"),y=t.n(f),g=t("vLgD"),b=t("oiih")},qH3q:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("irdN"),r=t.n(n),o=(t("UQ5M"),t("/qCn")),i=t("zIwb"),c=t.n(i),s=t("fSis");a.default={namespace:"logisticsDetail",state:{step:0,detailForm:"",companyOption:[],carOption:{car_head:[],car_body:[],driver:[],supercargo:[]},billLoading:!1},subscriptions:{setup:function(e){var a=e.dispatch;return e.history.listen(function(e){var t=e.pathname,n=e.query;"/logistics/logisticsDetail"===t&&a({type:"getDetail",payload:n})})}},effects:{getDetail:c.a.mark(function e(a,t){var n,r,o,i,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,o=t.put,e.next=4,r(s.getDetail,n);case 4:if(i=e.sent,d=i.data,1!==d.code){e.next=9;break}return e.next=9,o({type:"save",payload:{detailForm:d.data.order,step:d.data.order.deliver_status}});case 9:case"end":return e.stop()}},e,this)}),getCompanyOption:c.a.mark(function e(a,t){var n,r,o,i,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,o=t.put,e.next=4,r(s.getCompanyOption,n);case 4:if(i=e.sent,d=i.data,1!==d.code){e.next=9;break}return e.next=9,o({type:"save",payload:{companyOption:d.data.list}});case 9:case"end":return e.stop()}},e,this)}),getCarOption:c.a.mark(function e(a,t){var n,r,o,i,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,o=t.put,e.next=4,r(s.getCarOption,n);case 4:if(i=e.sent,d=i.data,1!==d.code){e.next=9;break}return e.next=9,o({type:"save",payload:{carOption:d.data}});case 9:case"end":return e.stop()}},e,this)}),doDispatch:c.a.mark(function e(a,t){var n,r,i,d,p;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=t.call,i=t.put,e.next=4,r(s.doDispatch,n);case 4:if(d=e.sent,p=d.data,-1!==p.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==p.code){e.next=14;break}return o.a.success(p.msg),e.next=12,i({type:"logistics/getDeliverList",payload:{page:1}});case 12:e.next=15;break;case 14:o.a.error(p.msg);case 15:case"end":return e.stop()}},e,this)}),uploadPound:c.a.mark(function e(a,t){var n,r,i,d,p,u,l,m,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=n.file,i=n.id,d=n.load_type,p=n.num,u=t.call,l=t.put,e.next=4,u(s.uploadPound,{file:r,id:i,load_type:d,num:p});case 4:if(m=e.sent,f=m.data,-1!==f.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==f.code){e.next=14;break}return o.a.success(f.msg),e.next=12,l({type:"logistics/getDeliverList",payload:{page:1}});case 12:e.next=15;break;case 14:o.a.error(f.msg);case 15:case"end":return e.stop()}},e,this)}),confirmBill:c.a.mark(function e(a,t){var n,r,i,d,p,u,l,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.payload,r=n.id,i=n.load_num,d=n.unload_num,p=t.call,u=t.put,e.next=4,u({type:"save",payload:{billLoading:!0}});case 4:return e.next=6,p(s.confirmBill,{id:r,load_num:i,unload_num:d});case 6:if(l=e.sent,m=l.data,-1!==m.code){e.next=10;break}return e.abrupt("return",!1);case 10:if(1!==m.code){e.next=15;break}return e.next=13,u({type:"logistics/getDeliverList",payload:{page:1}});case 13:e.next=16;break;case 15:o.a.error(m.msg);case 16:return e.next=18,u({type:"save",payload:{billLoading:!1}});case 18:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,a){return r()({},e,a.payload)}}}}});