webpackJsonp([6],{WbGS:function(e,t,a){"use strict";function r(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(j.a)(t.action,{method:"POST",body:a})}function n(e){var t=e.file,a=e.id,r=new FormData;return r.append(t.filename,t.file),r.append("id",a),Object(j.a)(t.action,{method:"POST",body:r})}function c(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",D.c),r.append("find_str",a),Object(j.a)("".concat(D.a,"/admin/customer/customer-list"),{method:"POST",body:r})}function s(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",D.c),r.append("find_str",a),Object(j.a)("".concat(D.a,"/admin/supplier/supp-list"),{method:"POST",body:r})}function o(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",D.c),r.append("find_str",a),Object(j.a)("".concat(D.a,"/admin/car/car-list"),{method:"POST",body:r})}function u(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/customer/add-customer"),{method:"POST",body:a})}function i(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/customer/modify-customer"),{method:"POST",body:a})}function p(e){var t=e.id,a=new FormData;return a.append("id",t),Object(j.a)("".concat(D.a,"/admin/customer/del-customer"),{method:"POST",body:a})}function d(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/supplier/add-supp"),{method:"POST",body:a})}function f(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/supplier/modify-supp"),{method:"POST",body:a})}function m(e){var t=e.id,a=new FormData;return a.append("id",t),Object(j.a)("".concat(D.a,"/admin/supplier/del-supp"),{method:"POST",body:a})}function l(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/car/add-car"),{method:"POST",body:a})}function x(e){var t=e.form,a=new FormData;return P()(t).forEach(function(e,r){a.append(e,t[e])}),Object(j.a)("".concat(D.a,"/admin/car/modify-car"),{method:"POST",body:a})}function b(e){var t=e.id,a=new FormData;return a.append("id",t),Object(j.a)("".concat(D.a,"/admin/car/del-car"),{method:"POST",body:a})}function h(e){var t=e.name,a=new FormData;return a.append("district_name",t),Object(j.a)("".concat(D.a,"/admin/base/district"),{method:"POST",body:a})}function y(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(j.a)(t.action,{method:"POST",body:a})}function v(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(j.a)(t.action,{method:"POST",body:a})}function k(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(j.a)(t.action,{method:"POST",body:a})}function g(e){var t=e.form,a=new FormData;return a.append("json_list",S()(t)),Object(j.a)("".concat(D.a,"/admin/customer/batch-add-customer"),{method:"POST",body:a})}function w(e){var t=e.form,a=new FormData;return a.append("json_list",S()(t)),Object(j.a)("".concat(D.a,"/admin/supplier/batch-add-supplier"),{method:"POST",body:a})}function O(e){var t=e.form,a=new FormData;return a.append("json_list",S()(t)),Object(j.a)("".concat(D.a,"/admin/car/batch-add-car"),{method:"POST",body:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.postReport=r,t.uploadSingle=n,t.getCustomerList=c,t.getSupplierList=s,t.getCarList=o,t.insertCustomer=u,t.modifyCustomer=i,t.deleteCustomer=p,t.insertSupplier=d,t.modifySupplier=f,t.deleteSupplier=m,t.insertCar=l,t.modifyCar=x,t.deleteCar=b,t.fetchOptions=h,t.userImport=y,t.suppImport=v,t.vehicleImport=k,t.batchCustomer=g,t.batchSupplier=w,t.batchVehicle=O;var C=a("2uCP"),S=a.n(C),_=a("oXS2"),P=a.n(_),j=a("vLgD"),D=a("oiih")},mmtP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("irdN"),n=a.n(r),c=a("Bfv8"),s=a.n(c),o=(a("UQ5M"),a("/qCn")),u=a("zIwb"),i=a.n(u),p=a("WbGS"),d=a("7xWd");a.n(d);t.default={namespace:"maintain",state:{customerlist:[],customerpage:1,customertotal:0,supplierlist:[],supplierpage:1,suppliertotal:0,carlist:[],carpage:1,cartotal:0,editForm:"",imgUrl:"",find_str:"",currentTab:"1",CascaderOptions:[],userChecking:{},supplierChecking:{},vehicleChecking:{}},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var a=e.pathname,r=e.query;"/maintain"===a&&(t({type:"fetchCustomer",payload:r}),t({type:"fetchSupplier",payload:r}),t({type:"fetchCar",payload:r}))})}},effects:{postReport:i.a.mark(function e(t,a){var r,n,c,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.postReport,{file:r});case 4:if(s=e.sent,o=s.data,1!==o.code){e.next=11;break}return e.next=9,c({type:"save",payload:{imgUrl:o.url}});case 9:r.onProgress({percent:100}),r.onSuccess();case 11:case"end":return e.stop()}},e,this)}),uploadSingle:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m,l,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.file,c=r.id,s=a.call,u=a.put,d=a.select,e.next=4,s(p.uploadSingle,{file:n,id:c});case 4:if(f=e.sent,m=f.data,-2!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==m.code){e.next=20;break}return o.a.success(m.msg),e.next=12,d(function(e){return e.maintain.supplierpage});case 12:return l=e.sent,e.next=15,d(function(e){return e.maintain.find_str});case 15:return x=e.sent,e.next=18,u({type:"fetchSupplier",payload:{page:l,find_str:x}});case 18:e.next=21;break;case 20:o.a.error(m.msg);case 21:n.onProgress({percent:100}),n.onSuccess();case 23:case"end":return e.stop()}},e,this)}),fetchCustomer:i.a.mark(function e(t,a){var r,n,c,s,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,c=void 0===n?1:n,s=r.find_str,o=void 0===s?"":s,u=a.call,d=a.put,e.next=4,u(p.getCustomerList,{page:c,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{customerlist:m.data.list,customerpage:parseInt(c,10),customertotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),fetchSupplier:i.a.mark(function e(t,a){var r,n,c,s,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,c=void 0===n?1:n,s=r.find_str,o=void 0===s?"":s,u=a.call,d=a.put,e.next=4,u(p.getSupplierList,{page:c,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{supplierlist:m.data.list,supplierpage:parseInt(c,10),suppliertotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),fetchCar:i.a.mark(function e(t,a){var r,n,c,s,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,c=void 0===n?1:n,s=r.find_str,o=void 0===s?"":s,u=a.call,d=a.put,e.next=4,u(p.getCarList,{page:c,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{carlist:m.data.list,carpage:parseInt(c,10),cartotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),insertCustomer:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.insertCustomer,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCustomer:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.modifyCustomer,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCustomer:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.deleteCustomer,r);case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,s(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertSupplier:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.insertSupplier,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifySupplier:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.modifySupplier,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteSupplier:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.deleteSupplier,r);case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,s(function(e){return e.maintain.supplierpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertCar:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.insertCar,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCar:i.a.mark(function e(t,a){var r,n,c,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,e.next=4,n(p.modifyCar,{form:r});case 4:if(s=e.sent,u=s.data,-2!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,c(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCar:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.deleteCar,r);case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,s(function(e){return e.maintain.carpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchCar",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),fetchOptions:i.a.mark(function e(t,a){var r,n,c,o,u,d,f,m,l,x,b,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n=r.name,c=void 0===n?"":n,o=r.targetOption,u=a.call,d=a.put,f=a.select,!o){e.next=19;break}return e.next=5,u(p.fetchOptions,{name:c});case 5:if(m=e.sent,l=m.data,-2!==l.code){e.next=9;break}return e.abrupt("return",!1);case 9:if(1!==l.code){e.next=17;break}return o.loading=!1,o.children=l.data.list,e.next=14,f(function(e){return e.maintain.CascaderOptions});case 14:return x=e.sent,e.next=17,d({type:"save",payload:{CascaderOptions:s()(x)}});case 17:e.next=28;break;case 19:return e.next=21,u(p.fetchOptions,{name:c});case 21:if(b=e.sent,h=b.data,-2!==h.code){e.next=25;break}return e.abrupt("return",!1);case 25:if(1!==h.code){e.next=28;break}return e.next=28,d({type:"save",payload:{CascaderOptions:h.data.list}});case 28:case"end":return e.stop()}},e,this)}),userImport:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.userImport,{file:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=24;break}return o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,s(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:return r.onProgress({percent:100}),r.onSuccess(),e.next=22,c({type:"save",payload:{userChecking:d}});case 22:e.next=25;break;case 24:2===d.code&&o.a.error("\u5168\u90e8\u5bfc\u5165\u6210\u529f");case 25:case"end":return e.stop()}},e,this)}),suppImport:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.suppImport,{file:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=24;break}return o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,s(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:return r.onProgress({percent:100}),r.onSuccess(),e.next=22,c({type:"save",payload:{supplierChecking:d}});case 22:e.next=25;break;case 24:2===d.code&&o.a.error("\u5168\u90e8\u5bfc\u5165\u6210\u529f");case 25:case"end":return e.stop()}},e,this)}),vehicleImport:i.a.mark(function e(t,a){var r,n,c,s,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,s=a.select,e.next=4,n(p.vehicleImport,{file:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=24;break}return o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,s(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,s(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,c({type:"fetchCar",payload:{page:f,find_str:m}});case 18:return r.onProgress({percent:100}),r.onSuccess(),e.next=22,c({type:"save",payload:{vehicleChecking:d}});case 22:e.next=25;break;case 24:2===d.code&&o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f");case 25:case"end":return e.stop()}},e,this)}),batchCustomer:i.a.mark(function e(t,a){var r,n,c,s,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,c=a.put,s=a.select,e.next=4,n(p.batchCustomer,{form:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=14;break}return 0===d.num.err_num?o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"):o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,c({type:"save",payload:{userChecking:d}});case 12:e.next=18;break;case 14:if(2!==d.code){e.next=18;break}return o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"),e.next=18,c({type:"save",payload:{userChecking:d}});case 18:case"end":return e.stop()}},e,this)}),batchSupplier:i.a.mark(function e(t,a){var r,n,c,s,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,c=a.put,s=a.select,e.next=4,n(p.batchSupplier,{form:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=14;break}return 0===d.num.err_num?o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"):o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,c({type:"save",payload:{supplierChecking:d}});case 12:e.next=18;break;case 14:if(2!==d.code){e.next=18;break}return o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"),e.next=18,c({type:"save",payload:{supplierChecking:d}});case 18:case"end":return e.stop()}},e,this)}),batchVehicle:i.a.mark(function e(t,a){var r,n,c,s,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.form,n=a.call,c=a.put,s=a.select,e.next=4,n(p.batchVehicle,{form:r});case 4:if(u=e.sent,d=u.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=14;break}return 0===d.num.err_num?o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"):o.a.warning("\u8bf7\u4fee\u6539\u6570\u636e\u540e\u91cd\u65b0\u5bfc\u5165"),e.next=12,c({type:"save",payload:{vehicleChecking:d}});case 12:e.next=18;break;case 14:if(2!==d.code){e.next=18;break}return o.a.success("\u5168\u90e8\u5bfc\u5165\u6210\u529f"),e.next=18,c({type:"save",payload:{vehicleChecking:d}});case 18:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});