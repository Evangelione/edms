webpackJsonp([8],{WbGS:function(e,t,r){"use strict";function a(e){var t=e.file,r=new FormData;return r.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:r})}function n(e){var t=e.file,r=e.id,a=new FormData;return a.append(t.filename,t.file),a.append("id",r),Object(O.a)(t.action,{method:"POST",body:a})}function s(e){var t=e.page,r=e.find_str,a=new FormData;return a.append("page",t),a.append("limit",S.b),a.append("find_str",r),Object(O.a)("".concat(S.a,"/admin/customer/customer-list"),{method:"POST",body:a})}function c(e){var t=e.page,r=e.find_str,a=new FormData;return a.append("page",t),a.append("limit",S.b),a.append("find_str",r),Object(O.a)("".concat(S.a,"/admin/supplier/supp-list"),{method:"POST",body:a})}function o(e){var t=e.page,r=e.find_str,a=new FormData;return a.append("page",t),a.append("limit",S.b),a.append("find_str",r),Object(O.a)("".concat(S.a,"/admin/car/car-list"),{method:"POST",body:a})}function u(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/customer/add-customer"),{method:"POST",body:r})}function i(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),console.log(r),Object(O.a)("".concat(S.a,"/admin/customer/modify-customer"),{method:"POST",body:r})}function p(e){var t=e.id,r=new FormData;return r.append("id",t),Object(O.a)("".concat(S.a,"/admin/customer/del-customer"),{method:"POST",body:r})}function d(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/supplier/add-supp"),{method:"POST",body:r})}function f(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/supplier/modify-supp"),{method:"POST",body:r})}function m(e){var t=e.id,r=new FormData;return r.append("id",t),Object(O.a)("".concat(S.a,"/admin/supplier/del-supp"),{method:"POST",body:r})}function l(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/car/add-car"),{method:"POST",body:r})}function x(e){var t=e.form,r=new FormData;return w()(t).forEach(function(e,a){r.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/car/modify-car"),{method:"POST",body:r})}function b(e){var t=e.id,r=new FormData;return r.append("id",t),Object(O.a)("".concat(S.a,"/admin/car/del-car"),{method:"POST",body:r})}function h(e){var t=e.district_code,r=new FormData;return r.append("district_code",t),Object(O.a)("".concat(S.a,"/admin/base/district"),{method:"POST",body:r})}function y(e){var t=e.file,r=new FormData;return r.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:r})}function v(e){var t=e.file,r=new FormData;return r.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:r})}function g(e){var t=e.file,r=new FormData;return r.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.postReport=a,t.uploadSingle=n,t.getCustomerList=s,t.getSupplierList=c,t.getCarList=o,t.insertCustomer=u,t.modifyCustomer=i,t.deleteCustomer=p,t.insertSupplier=d,t.modifySupplier=f,t.deleteSupplier=m,t.insertCar=l,t.modifyCar=x,t.deleteCar=b,t.fetchOptions=h,t.userImport=y,t.suppImport=v,t.vehicleImport=g;var k=r("oXS2"),w=r.n(k),O=r("vLgD"),S=r("oiih")},mmtP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("irdN"),n=r.n(a),s=r("Bfv8"),c=r.n(s),o=(r("UQ5M"),r("/qCn")),u=r("zIwb"),i=r.n(u),p=r("WbGS"),d=r("7xWd");r.n(d);t.default={namespace:"maintain",state:{customerlist:[],customerpage:1,customertotal:0,supplierlist:[],supplierpage:1,suppliertotal:0,carlist:[],carpage:1,cartotal:0,editForm:"",imgUrl:"",find_str:"",currentTab:"1",CascaderOptions:[]},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var r=e.pathname,a=e.query;"/maintain"===r&&(t({type:"fetchCustomer",payload:a}),t({type:"fetchSupplier",payload:a}),t({type:"fetchCar",payload:a}))})}},effects:{postReport:i.a.mark(function e(t,r){var a,n,s,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.postReport,{file:a});case 4:if(c=e.sent,o=c.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,s({type:"save",payload:{imgUrl:o.url}});case 10:a.onProgress({percent:100}),a.onSuccess();case 12:case"end":return e.stop()}},e,this)}),uploadSingle:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m,l,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=a.file,s=a.id,c=r.call,u=r.put,d=r.select,e.next=4,c(p.uploadSingle,{file:n,id:s});case 4:if(f=e.sent,m=f.data,-1!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==m.code){e.next=20;break}return o.a.success(m.msg),e.next=12,d(function(e){return e.maintain.supplierpage});case 12:return l=e.sent,e.next=15,d(function(e){return e.maintain.find_str});case 15:return x=e.sent,e.next=18,u({type:"fetchSupplier",payload:{page:l,find_str:x}});case 18:e.next=21;break;case 20:o.a.error(m.msg);case 21:n.onProgress({percent:100}),n.onSuccess();case 23:case"end":return e.stop()}},e,this)}),fetchCustomer:i.a.mark(function e(t,r){var a,n,s,c,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=a.page,s=void 0===n?1:n,c=a.find_str,o=void 0===c?"":c,u=r.call,d=r.put,e.next=4,u(p.getCustomerList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,-1!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,d({type:"save",payload:{customerlist:m.data.list,customerpage:parseInt(s,10),customertotal:parseInt(m.data.count,10),find_str:o}});case 10:case"end":return e.stop()}},e,this)}),fetchSupplier:i.a.mark(function e(t,r){var a,n,s,c,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=a.page,s=void 0===n?1:n,c=a.find_str,o=void 0===c?"":c,u=r.call,d=r.put,e.next=4,u(p.getSupplierList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,-1!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,d({type:"save",payload:{supplierlist:m.data.list,supplierpage:parseInt(s,10),suppliertotal:parseInt(m.data.count,10),find_str:o}});case 10:case"end":return e.stop()}},e,this)}),fetchCar:i.a.mark(function e(t,r){var a,n,s,c,o,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=a.page,s=void 0===n?1:n,c=a.find_str,o=void 0===c?"":c,u=r.call,d=r.put,e.next=4,u(p.getCarList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,-1!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,d({type:"save",payload:{carlist:m.data.list,carpage:parseInt(s,10),cartotal:parseInt(m.data.count,10),find_str:o}});case 10:case"end":return e.stop()}},e,this)}),insertCustomer:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.insertCustomer,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCustomer:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.modifyCustomer,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCustomer:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.deleteCustomer,a);case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertSupplier:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.insertSupplier,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifySupplier:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.modifySupplier,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteSupplier:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.deleteSupplier,a);case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.supplierpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertCar:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.insertCar,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCar:i.a.mark(function e(t,r){var a,n,s,c,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(p.modifyCar,{form:a});case 4:if(c=e.sent,u=c.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return o.a.success(u.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(u.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCar:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.deleteCar,a);case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.carpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCar",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),fetchOptions:i.a.mark(function e(t,r){var a,n,s,o,u,d,f,m,l,x,b,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.payload,n=a.district_code,s=void 0===n?"":n,o=a.targetOption,u=r.call,d=r.put,f=r.select,!o){e.next=19;break}return e.next=5,u(p.fetchOptions,{district_code:s});case 5:if(m=e.sent,l=m.data,-1!==l.code){e.next=9;break}return e.abrupt("return",!1);case 9:if(1!==l.code){e.next=17;break}return o.loading=!1,o.children=l.data.list,e.next=14,f(function(e){return e.maintain.CascaderOptions});case 14:return x=e.sent,e.next=17,d({type:"save",payload:{CascaderOptions:c()(x)}});case 17:e.next=28;break;case 19:return e.next=21,u(p.fetchOptions,{district_code:s});case 21:if(b=e.sent,h=b.data,-1!==h.code){e.next=25;break}return e.abrupt("return",!1);case 25:if(1!==h.code){e.next=28;break}return e.next=28,d({type:"save",payload:{CascaderOptions:h.data.list}});case 28:case"end":return e.stop()}},e,this)}),userImport:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.userImport,{file:a});case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:a.onProgress({percent:100}),a.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)}),suppImport:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.suppImport,{file:a});case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:a.onProgress({percent:100}),a.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)}),vehicleImport:i.a.mark(function e(t,r){var a,n,s,c,u,d,f,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,c=r.select,e.next=4,n(p.vehicleImport,{file:a});case 4:if(u=e.sent,d=u.data,-1!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCar",payload:{page:f,find_str:m}});case 18:a.onProgress({percent:100}),a.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});