webpackJsonp([8],{WbGS:function(e,t,a){"use strict";function r(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:a})}function n(e){var t=e.file,a=e.id,r=new FormData;return r.append(t.filename,t.file),r.append("id",a),Object(O.a)(t.action,{method:"POST",body:r})}function s(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",S.b),r.append("find_str",a),Object(O.a)("".concat(S.a,"/admin/customer/customer-list"),{method:"POST",body:r})}function c(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",S.b),r.append("find_str",a),Object(O.a)("".concat(S.a,"/admin/supplier/supp-list"),{method:"POST",body:r})}function o(e){var t=e.page,a=e.find_str,r=new FormData;return r.append("page",t),r.append("limit",S.b),r.append("find_str",a),Object(O.a)("".concat(S.a,"/admin/car/car-list"),{method:"POST",body:r})}function i(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/customer/add-customer"),{method:"POST",body:a})}function u(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),console.log(a),Object(O.a)("".concat(S.a,"/admin/customer/modify-customer"),{method:"POST",body:a})}function p(e){var t=e.id,a=new FormData;return a.append("id",t),Object(O.a)("".concat(S.a,"/admin/customer/del-customer"),{method:"POST",body:a})}function d(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/supplier/add-supp"),{method:"POST",body:a})}function f(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/supplier/modify-supp"),{method:"POST",body:a})}function m(e){var t=e.id,a=new FormData;return a.append("id",t),Object(O.a)("".concat(S.a,"/admin/supplier/del-supp"),{method:"POST",body:a})}function l(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/car/add-car"),{method:"POST",body:a})}function x(e){var t=e.form,a=new FormData;return w()(t).forEach(function(e,r){a.append(e,t[e])}),Object(O.a)("".concat(S.a,"/admin/car/modify-car"),{method:"POST",body:a})}function b(e){var t=e.id,a=new FormData;return a.append("id",t),Object(O.a)("".concat(S.a,"/admin/car/del-car"),{method:"POST",body:a})}function h(e){var t=e.district_code,a=new FormData;return a.append("district_code",t),Object(O.a)("".concat(S.a,"/admin/base/district"),{method:"POST",body:a})}function y(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:a})}function v(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:a})}function g(e){var t=e.file,a=new FormData;return a.append(t.filename,t.file),Object(O.a)(t.action,{method:"POST",body:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.postReport=r,t.uploadSingle=n,t.getCustomerList=s,t.getSupplierList=c,t.getCarList=o,t.insertCustomer=i,t.modifyCustomer=u,t.deleteCustomer=p,t.insertSupplier=d,t.modifySupplier=f,t.deleteSupplier=m,t.insertCar=l,t.modifyCar=x,t.deleteCar=b,t.fetchOptions=h,t.userImport=y,t.suppImport=v,t.vehicleImport=g;var k=a("oXS2"),w=a.n(k),O=a("vLgD"),S=a("oiih")},mmtP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("irdN"),n=a.n(r),s=a("Bfv8"),c=a.n(s),o=(a("UQ5M"),a("/qCn")),i=a("zIwb"),u=a.n(i),p=a("WbGS"),d=a("7xWd");a.n(d);t.default={namespace:"maintain",state:{customerlist:[],customerpage:1,customertotal:0,supplierlist:[],supplierpage:1,suppliertotal:0,carlist:[],carpage:1,cartotal:0,editForm:"",imgUrl:"",find_str:"",currentTab:"1",CascaderOptions:[]},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var a=e.pathname,r=e.query;"/maintain"===a&&(t({type:"fetchCustomer",payload:r}),t({type:"fetchSupplier",payload:r}),t({type:"fetchCar",payload:r}))})}},effects:{postReport:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.postReport,{file:r});case 4:if(c=e.sent,o=c.data,1!==o.code){e.next=11;break}return e.next=9,s({type:"save",payload:{imgUrl:o.url}});case 9:r.onProgress({percent:100}),r.onSuccess();case 11:case"end":return e.stop()}},e,this)}),uploadSingle:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m,l,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.file,s=r.id,c=a.call,i=a.put,d=a.select,e.next=4,c(p.uploadSingle,{file:n,id:s});case 4:if(f=e.sent,m=f.data,-2!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==m.code){e.next=20;break}return o.a.success(m.msg),e.next=12,d(function(e){return e.maintain.supplierpage});case 12:return l=e.sent,e.next=15,d(function(e){return e.maintain.find_str});case 15:return x=e.sent,e.next=18,i({type:"fetchSupplier",payload:{page:l,find_str:x}});case 18:e.next=21;break;case 20:o.a.error(m.msg);case 21:n.onProgress({percent:100}),n.onSuccess();case 23:case"end":return e.stop()}},e,this)}),fetchCustomer:u.a.mark(function e(t,a){var r,n,s,c,o,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,o=void 0===c?"":c,i=a.call,d=a.put,e.next=4,i(p.getCustomerList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{customerlist:m.data.list,customerpage:parseInt(s,10),customertotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),fetchSupplier:u.a.mark(function e(t,a){var r,n,s,c,o,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,o=void 0===c?"":c,i=a.call,d=a.put,e.next=4,i(p.getSupplierList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{supplierlist:m.data.list,supplierpage:parseInt(s,10),suppliertotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),fetchCar:u.a.mark(function e(t,a){var r,n,s,c,o,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=r.page,s=void 0===n?1:n,c=r.find_str,o=void 0===c?"":c,i=a.call,d=a.put,e.next=4,i(p.getCarList,{page:s,find_str:o});case 4:if(f=e.sent,m=f.data,1!==m.code){e.next=9;break}return e.next=9,d({type:"save",payload:{carlist:m.data.list,carpage:parseInt(s,10),cartotal:parseInt(m.data.count,10),find_str:o}});case 9:case"end":return e.stop()}},e,this)}),insertCustomer:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.insertCustomer,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCustomer:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.modifyCustomer,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCustomer:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.deleteCustomer,r);case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertSupplier:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.insertSupplier,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),modifySupplier:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.modifySupplier,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),deleteSupplier:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.deleteSupplier,r);case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.supplierpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),insertCar:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.insertCar,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),modifyCar:u.a.mark(function e(t,a){var r,n,s,c,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,e.next=4,n(p.modifyCar,{form:r});case 4:if(c=e.sent,i=c.data,-2!==i.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==i.code){e.next=14;break}return o.a.success(i.msg),e.next=12,s(d.routerRedux.push({pathname:"/maintain"}));case 12:e.next=15;break;case 14:o.a.error(i.msg);case 15:case"end":return e.stop()}},e,this)}),deleteCar:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.deleteCar,r);case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=20;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.carpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCar",payload:{page:f,find_str:m}});case 18:e.next=21;break;case 20:o.a.error(d.msg);case 21:case"end":return e.stop()}},e,this)}),fetchOptions:u.a.mark(function e(t,a){var r,n,s,o,i,d,f,m,l,x,b,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.payload,n=r.district_code,s=void 0===n?"":n,o=r.targetOption,i=a.call,d=a.put,f=a.select,!o){e.next=19;break}return e.next=5,i(p.fetchOptions,{district_code:s});case 5:if(m=e.sent,l=m.data,-2!==l.code){e.next=9;break}return e.abrupt("return",!1);case 9:if(1!==l.code){e.next=17;break}return o.loading=!1,o.children=l.data.list,e.next=14,f(function(e){return e.maintain.CascaderOptions});case 14:return x=e.sent,e.next=17,d({type:"save",payload:{CascaderOptions:c()(x)}});case 17:e.next=28;break;case 19:return e.next=21,i(p.fetchOptions,{district_code:s});case 21:if(b=e.sent,h=b.data,-2!==h.code){e.next=25;break}return e.abrupt("return",!1);case 25:if(1!==h.code){e.next=28;break}return e.next=28,d({type:"save",payload:{CascaderOptions:h.data.list}});case 28:case"end":return e.stop()}},e,this)}),userImport:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.userImport,{file:r});case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCustomer",payload:{page:f,find_str:m}});case 18:r.onProgress({percent:100}),r.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)}),suppImport:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.suppImport,{file:r});case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchSupplier",payload:{page:f,find_str:m}});case 18:r.onProgress({percent:100}),r.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)}),vehicleImport:u.a.mark(function e(t,a){var r,n,s,c,i,d,f,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,c=a.select,e.next=4,n(p.vehicleImport,{file:r});case 4:if(i=e.sent,d=i.data,-2!==d.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==d.code){e.next=22;break}return o.a.success(d.msg),e.next=12,c(function(e){return e.maintain.customerpage});case 12:return f=e.sent,e.next=15,c(function(e){return e.maintain.find_str});case 15:return m=e.sent,e.next=18,s({type:"fetchCar",payload:{page:f,find_str:m}});case 18:r.onProgress({percent:100}),r.onSuccess(),e.next=23;break;case 22:o.a.error(d.msg);case 23:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return n()({},e,t.payload)}}}}});