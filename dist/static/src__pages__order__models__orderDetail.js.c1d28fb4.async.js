webpackJsonp([8],{GbnL:function(e,t,r){"use strict";function n(e){var t=e.page,r=e.order_status,n=e.find_str,a=e.order_type,o=new FormData;return o.append("page",t),o.append("limit",8),o.append("order_status",r),o.append("find_str",n),o.append("order_type",a),Object(h.a)("".concat(v.a,"/home/order/order-list"),{method:"POST",body:o})}function a(){return Object(h.a)("".concat(v.a,"/home/select/customer"),{method:"POST"})}function o(e){var t=e.customer_id,r=new FormData;return r.append("customer_id",t),Object(h.a)("".concat(v.a,"/home/select/site"),{method:"POST",body:r})}function c(){return Object(h.a)("".concat(v.a,"/home/select/supplier"),{method:"POST"})}function s(e){var t=e.supplier_id,r=new FormData;return r.append("supplier_id",t),Object(h.a)("".concat(v.a,"/home/select/goods"),{method:"POST",body:r})}function d(e){var t=e.values,r=new FormData;return b()(t).forEach(function(e,n){r.append(e,t[e])}),Object(h.a)("".concat(v.a,"/home/order/add-order"),{method:"POST",body:r})}function i(e){var t=e.id,r=new FormData;return r.append("id",t),Object(h.a)("".concat(v.a,"/home/order/order-info"),{method:"POST",body:r})}function u(e){var t=e.form,r=new FormData;return b()(t).forEach(function(e,n){r.append(e,t[e])}),Object(h.a)("".concat(v.a,"/home/order/modify-order"),{method:"POST",body:r})}function p(e){var t=e.form,r=new FormData;return b()(t).forEach(function(e,n){r.append(e,t[e])}),Object(h.a)("".concat(v.a,"/home/order/confirm-order"),{method:"POST",body:r})}function f(e){var t=e.id,r=new FormData;return r.append("id",t),Object(h.a)("".concat(v.a,"/home/order/pay"),{method:"POST",body:r})}function l(e){var t=e.id,r=new FormData;return r.append("id",t),Object(h.a)("".concat(v.a,"/home/order/cancel-order"),{method:"POST",body:r})}function m(e){var t=new FormData;return b()(e).forEach(function(r,n){t.append(r,e[r])}),Object(h.a)("".concat(v.a,"/home/order/settled"),{method:"POST",body:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderList=n,t.fetchCustom=a,t.fetchSite=o,t.fetchSupplier=c,t.fetchGoods=s,t.addOrder=d,t.orderInfo=i,t.modifyOrder=u,t.confirmOrder=p,t.doPay=f,t.cancelOrder=l,t.doResult=m;var y=r("oXS2"),b=r.n(y),h=r("vLgD"),v=r("oiih")},Gj0I:function(e,t,r){"use strict";function n(e){var t=e.duration,r=e.placement,n=e.bottom,a=e.top,o=e.getContainer;void 0!==t&&(l=t),void 0!==r&&(b=r),void 0!==n&&(y=n),void 0!==a&&(m=a),void 0!==o&&(h=o)}function a(e){var t=void 0;switch(e){case"topLeft":t={left:0,top:m,bottom:"auto"};break;case"topRight":t={right:0,top:m,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:y};break;default:t={right:0,top:"auto",bottom:y}}return t}function o(e,t,r){var n=e+"-"+t;if(f[n])return void r(f[n]);u.a.newInstance({prefixCls:e,className:e+"-"+t,style:a(t),getContainer:h},function(e){f[n]=e,r(e)})}function c(e){var t=e.prefixCls||"ant-notification",r=t+"-notice",n=void 0===e.duration?l:e.duration,a=null;if(e.icon)a=i.createElement("span",{className:r+"-icon"},e.icon);else if(e.type){var c=v[e.type];a=i.createElement(p.a,{className:r+"-icon "+r+"-icon-"+e.type,type:c})}var s=!e.description&&a?i.createElement("span",{className:r+"-message-single-line-auto-margin"}):null;o(t,e.placement||b,function(t){t.notice({content:i.createElement("div",{className:a?r+"-with-icon":""},a,i.createElement("div",{className:r+"-message"},s,e.message),i.createElement("div",{className:r+"-description"},e.description),e.btn?i.createElement("span",{className:r+"-btn"},e.btn):null),duration:n,closable:!0,onClose:e.onClose,key:e.key,style:e.style||{},className:e.className})})}var s=r("Dd8w"),d=r.n(s),i=r("GiK3"),u=(r.n(i),r("Hx0i")),p=r("FC3+"),f={},l=4.5,m=24,y=24,b="topRight",h=void 0,v={success:"check-circle-o",info:"info-circle-o",error:"cross-circle-o",warning:"exclamation-circle-o"},x={open:c,close:function(e){Object.keys(f).forEach(function(t){return f[t].removeNotice(e)})},config:n,destroy:function(){Object.keys(f).forEach(function(e){f[e].destroy(),delete f[e]})}};["success","info","warning","error"].forEach(function(e){x[e]=function(t){return x.open(d()({},t,{type:e}))}}),x.warn=x.warning,t.a=x},QX4N:function(e,t,r){"use strict";var n=r("vtiu"),a=(r.n(n),r("Sydc"));r.n(a)},QdHS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("irdN"),a=r.n(n),o=(r("QX4N"),r("Gj0I")),c=(r("UQ5M"),r("/qCn")),s=r("zIwb"),d=r.n(s),i=r("GbnL");t.default={namespace:"orderDetail",state:{editable:!1,isSuccess:"success",step:0,detailForm:"",modifyForm:"",modifyId:""},subscriptions:{setup:function(e){var t=e.dispatch;return e.history.listen(function(e){var r=e.pathname;e.query,"/order/orderDetail"===r&&t({type:"save",payload:{editable:!1}})})}},effects:{orderInfo:d.a.mark(function e(t,r){var n,a,o,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,o=r.put,e.next=4,a(i.orderInfo,n);case 4:if(c=e.sent,s=c.data,1!==s.code){e.next=15;break}return e.next=9,o({type:"order/fetchSelect"});case 9:return e.next=11,o({type:"order/fetchSite",payload:{customer_id:s.data.order.cust_id}});case 11:return e.next=13,o({type:"order/fetchGoods",payload:{supplier_id:s.data.order.supp_id}});case 13:return e.next=15,o({type:"save",payload:{detailForm:s.data.order,step:s.data.order.order_status}});case 15:case"end":return e.stop()}},e,this)}),modifyForm:d.a.mark(function e(t,r){var n,a,s,u,p,f,l,m,y,b;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,s=r.put,u=r.select,e.next=4,u(function(e){return e.orderDetail.modifyForm});case 4:return p=e.sent,e.next=7,u(function(e){return e.orderDetail.modifyId});case 7:if(f=e.sent,l=null,m=!1,p.validateFields(function(e,t){e?m=!0:(delete t.cust_id2,delete t.cust_id3,delete t.delivery,delete t.goods_adress,delete t.goods_contact,delete t.goods_delivery,delete t.goods_source,delete t.adress,delete t.goods_mobile,delete t.lianxidianhua,delete t.qiyuanchandi,delete t.shuliang,delete t.site_id2,delete t.site_id3,delete t.supp_id2,delete t.supp_id3,delete t.xiaoshouyuan,t.recv_time=t.recv_time.format("YYYY-MM-DD hh:00:00"),t.id=f,l=t)}),!m){e.next=14;break}return c.a.warning("\u9a8c\u8bc1\u4e0d\u901a\u8fc7\uff01\u8bf7\u68c0\u67e5\u5b57\u6bb5\u662f\u5426\u7b26\u5408\u8981\u6c42\uff01"),e.abrupt("return",!1);case 14:return e.next=16,a(i.modifyOrder,l);case 16:if(y=e.sent,b=y.data,-1!==b.code){e.next=20;break}return e.abrupt("return",!1);case 20:if(1!==b.code){e.next=26;break}return e.next=23,s({type:"save",payload:{editable:!1}});case 23:o.a.success({message:"\u6e29\u99a8\u63d0\u793a",description:"\u8ba2\u5355\u5df2\u4fee\u6539\uff0c\u8bf7\u786e\u8ba4\u652f\u4ed8",duration:6}),e.next=27;break;case 26:c.a.error(b.msg);case 27:case"end":return e.stop()}},e,this)}),doPay:d.a.mark(function e(t,r){var n,a,o,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,o=r.put,e.next=4,a(i.doPay,n);case 4:if(s=e.sent,u=s.data,-1!==u.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==u.code){e.next=14;break}return c.a.success(u.msg),e.next=12,o({type:"save",payload:{isSuccess:"success"}});case 12:e.next=17;break;case 14:return c.a.error(u.msg),e.next=17,o({type:"save",payload:{isSuccess:"error"}});case 17:case"end":return e.stop()}},e,this)}),cancelOrder:d.a.mark(function e(t,r){var n,a,o,s,u,p,f,l,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,o=r.put,s=r.select,e.next=4,a(i.cancelOrder,n);case 4:return u=e.sent,p=u.data,e.next=8,s(function(e){return e.order.find_str});case 8:return f=e.sent,e.next=11,s(function(e){return e.order.order_status});case 11:return l=e.sent,e.next=14,s(function(e){return e.order.page});case 14:if(m=e.sent,-1!==p.code){e.next=17;break}return e.abrupt("return",!1);case 17:if(1!==p.code){e.next=23;break}return c.a.success(p.msg),e.next=21,o({type:"order/fetch",payload:{find_str:f,order_status:l,page:m}});case 21:e.next=24;break;case 23:c.a.error(p.msg);case 24:case"end":return e.stop()}},e,this)}),doResult:d.a.mark(function e(t,r){var n,a,o,s,u,p,f,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a=r.call,o=r.put,s=r.select,e.next=4,a(i.doResult,n);case 4:return u=e.sent,p=u.data,e.next=8,s(function(e){return e.order.find_str});case 8:return f=e.sent,e.next=11,s(function(e){return e.order.order_type});case 11:if(l=e.sent,-1!==p.code){e.next=14;break}return e.abrupt("return",!1);case 14:if(1!==p.code){e.next=22;break}return c.a.success(p.msg),e.next=18,o({type:"order/fetch",payload:{find_str:f,order_status:"5",order_type:l}});case 18:return e.next=20,o({type:"order/save",payload:{currentTab:"yijiesuan"}});case 20:e.next=23;break;case 22:c.a.error(p.msg);case 23:case"end":return e.stop()}},e,this)}),modifySave:d.a.mark(function e(t,r){var n,a,o,s,u,p,f,l,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.form,a=r.call,o=r.put,s=r.select,e.next=4,a(i.modifyOrder,{form:n});case 4:return u=e.sent,p=u.data,e.next=8,s(function(e){return e.order.find_str});case 8:return f=e.sent,e.next=11,s(function(e){return e.order.order_status});case 11:return l=e.sent,e.next=14,s(function(e){return e.order.page});case 14:if(m=e.sent,-1!==p.code){e.next=17;break}return e.abrupt("return",!1);case 17:if(1!==p.code){e.next=23;break}return c.a.success(p.msg),e.next=21,o({type:"order/fetch",payload:{find_str:f,order_status:l,page:m}});case 21:e.next=24;break;case 23:c.a.error(p.msg);case 24:case"end":return e.stop()}},e,this)}),confirmOrder:d.a.mark(function e(t,r){var n,a,o,s,u,p,f,l,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.form,a=r.call,o=r.put,s=r.select,e.next=4,a(i.confirmOrder,{form:n});case 4:return u=e.sent,p=u.data,e.next=8,s(function(e){return e.order.find_str});case 8:return f=e.sent,e.next=11,s(function(e){return e.order.order_status});case 11:return l=e.sent,e.next=14,s(function(e){return e.order.page});case 14:if(m=e.sent,-1!==p.code){e.next=17;break}return e.abrupt("return",!1);case 17:if(1!==p.code){e.next=23;break}return c.a.success(p.msg),e.next=21,o({type:"order/fetch",payload:{find_str:f,order_status:l,page:m}});case 21:e.next=24;break;case 23:c.a.error(p.msg);case 24:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return a()({},e,t.payload)}}}},Sydc:function(e,t){}});