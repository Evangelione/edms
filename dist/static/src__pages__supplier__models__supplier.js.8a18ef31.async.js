webpackJsonp([14],{"0gZ2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Biqn"),r=a.n(n),c=a("fKPv"),i=a.n(c),s=(a("UQ5M"),a("/qCn")),o=a("En79"),p=a.n(o),d=a("yWaO");t.default={namespace:"supplier",state:{contractList:[],contractPage:1,contractTotal:0,detailList:[],detailPage:1,detailTotal:0,find_str:"",stime:"",etime:"",company:{},supplierOption:[],balanceList:[],balancePage:1,balanceTotal:0,balanceDetailedList:[],balanceDetailedPage:1,balanceDetailedTotal:0,companyOption:[],goodsOption:[],companyDetail:{},currentKey:"1",supp_id:"",site_id:"",goods_id:"",account_status:"",historylist:[],historypage:1,historytotal:0},subscriptions:{setup:function(e){e.dispatch;return e.history.listen(function(e){e.pathname,e.query})}},effects:{purchaseContractFetch:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.find_str,s=void 0===i?"":i,o=a.call,u=a.put,e.next=4,o(d.purchaseContractFetch,{page:c,find_str:s});case 4:if(l=e.sent,m=l.data,1!==m.code){e.next=9;break}return e.next=9,u({type:"save",payload:{contractList:m.data.list,contractPage:parseInt(c,10),contractTotal:parseInt(m.data.count,10),find_str:s}});case 9:case"end":return e.stop()}},e,this)}),purchaseDetailFetch:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m,f,h,v,y;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.find_str,s=void 0===i?"":i,o=n.stime,u=void 0===o?"":o,l=n.etime,m=void 0===l?"":l,f=a.call,h=a.put,e.next=4,f(d.purchaseDetailFetch,{page:c,find_str:s,stime:u,etime:m});case 4:if(v=e.sent,y=v.data,1!==y.code){e.next=9;break}return e.next=9,h({type:"save",payload:{detailList:y.data.list,detailPage:parseInt(c,10),detailTotal:parseInt(y.data.count,10),find_str:s,stime:u,etime:m}});case 9:case"end":return e.stop()}},e,this)}),fetchOptions:p.a.mark(function e(t,a){var n,r,c,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(d.fetchOptions);case 4:if(i=e.sent,s=i.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{supplierOption:s.data.list}});case 9:case"end":return e.stop()}},e,this)}),fetchGoods:p.a.mark(function e(t,a){var n,r,c,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(d.fetchGoods);case 4:if(i=e.sent,s=i.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{goodsOption:s.data.list}});case 9:case"end":return e.stop()}},e,this)}),addSupplierContract:p.a.mark(function e(t,a){var n,r,c,i,o,u,l,m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.id,c=n.stime,i=n.etime,o=a.call,u=a.put,e.next=4,o(d.addSupplierContract,{id:r,stime:c,etime:i});case 4:if(l=e.sent,m=l.data,-1!==m.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===m.code?s.a.success(m.msg):s.a.error(m.msg);case 9:case"end":return e.stop()}},e,this)}),fetchCompany:p.a.mark(function e(t,a){var n,r,c,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(d.fetchCompany);case 4:if(i=e.sent,s=i.data,1!==s.code){e.next=9;break}return e.next=9,c({type:"save",payload:{company:s.data.info}});case 9:case"end":return e.stop()}},e,this)}),balanceFetch:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m,f,h,v,y,_,b,g;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.find_str,s=void 0===i?"":i,o=n.stime,u=n.etime,l=n.supp_id,m=n.account_status,f=n.site_id,h=n.goods_id,v=n.conversion,y=a.call,_=a.put,e.next=4,y(d.getBalanceData,{page:c,find_str:s,stime:o,etime:u,supp_id:l,account_status:m,site_id:f,goods_id:h,conversion:v});case 4:if(b=e.sent,g=b.data,1!==g.code){e.next=9;break}return e.next=9,_({type:"save",payload:{balanceList:g.data.list,balancePage:parseInt(c,10),balanceTotal:parseInt(g.data.count,10),find_str:s}});case 9:case"end":return e.stop()}},e,this)}),balanceDetailedFetch:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m,f,h,v,y;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.find_str,s=void 0===i?"":i,o=n.stime,u=n.etime,l=n.conversion,m=n.id,f=a.call,h=a.put,e.next=4,f(d.balanceDetailedFetch,{page:c,find_str:s,stime:o,etime:u,conversion:l,id:m});case 4:if(v=e.sent,y=v.data,1!==y.code){e.next=9;break}return e.next=9,h({type:"save",payload:{balanceDetailedList:y.data.list,balanceDetailedPage:parseInt(c,10),balanceDetailedTotal:parseInt(y.data.count,10),find_str:s}});case 9:case"end":return e.stop()}},e,this)}),getSupplierCompany:p.a.mark(function e(t,a){var n,r,c,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(d.getCustomerCompany);case 4:if(i=e.sent,s=i.data,-1!==s.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==s.code){e.next=11;break}return e.next=11,c({type:"save",payload:{companyOption:s.data.list}});case 11:case"end":return e.stop()}},e,this)}),accountNum:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m,f,h;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.find_str,c=void 0===r?"":r,i=n.stime,s=n.etime,o=n.gas_id,u=void 0===o?"":o,l=a.call,m=a.put,e.next=4,l(d.accountNum,{find_str:c,stime:i,etime:s,gas_id:u});case 4:if(f=e.sent,h=f.data,-1!==h.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==h.code){e.next=11;break}return e.next=11,m({type:"save",payload:{companyDetail:h.data.list}});case 11:case"end":return e.stop()}},e,this)}),balanceHistoryFetch:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.id,s=a.call,o=a.put,e.next=4,s(d.getBalanceHistoryData,{page:c,id:i});case 4:if(u=e.sent,l=u.data,1!==l.code){e.next=9;break}return e.next=9,o({type:"save",payload:{balanceHistoryList:l.data.list,balanceHistoryPage:parseInt(c,10),balanceHistoryTotal:parseInt(l.data.count,10)}});case 9:case"end":return e.stop()}},e,this)}),confirmAccount:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(d.confirmAccount,{id:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),deleteAccount:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(d.deleteAccount,{id:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),saveChange:p.a.mark(function e(t,a){var n,r,c,s,o,d,u,l,m;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.supp_id,c=n.site_id,s=n.goods_id,o=n.account_status,d=a.call,u=a.put,l=void 0!==r?"supp_id":void 0!==c?"site_id":void 0!==s?"goods_id":void 0!==o?"account_status":"",m=r||c||s||o||"",console.log(l),console.log(m),e.next=8,u({type:"save",payload:i()({},l,m)});case 8:case"end":return e.stop()}},e,this)}),Reconciliation:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.ids,r=a.call,c=a.put,e.next=4,r(d.Reconciliation,{ids:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),Reconciliation2:p.a.mark(function e(t,a){var n,r,c,i,o,u,l,m,f,h,v;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.stime,c=n.etime,i=n.supp_id,o=n.account_status,u=n.site_id,l=n.goods_id,m=a.call,f=a.put,e.next=4,m(d.Reconciliation2,{stime:r,etime:c,supp_id:i,account_status:o,site_id:u,goods_id:l});case 4:if(h=e.sent,v=h.data,-1!==v.code){e.next=8;break}return e.abrupt("return",!1);case 8:if(1!==v.code){e.next=14;break}return s.a.success(v.msg),e.next=12,f({type:"save",payload:{account_status:""}});case 12:e.next=15;break;case 14:s.a.error(v.msg);case 15:case"end":return e.stop()}},e,this)}),fetchHistory:p.a.mark(function e(t,a){var n,r,c,i,s,o,u,l,m,f,h;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.page,c=void 0===r?1:r,i=n.stime,s=n.etime,o=n.supp_id,u=n.account_status,l=a.call,m=a.put,e.next=4,l(d.fetchHistory,{page:c,stime:i,etime:s,supp_id:o,account_status:u});case 4:if(f=e.sent,h=f.data,1!==h.code){e.next=9;break}return e.next=9,m({type:"save",payload:{historylist:h.data.list,historypage:parseInt(c,10),historytotal:parseInt(h.data.count,10),stime:i,etime:s,supp_id:o,account_status:u}});case 9:case"end":return e.stop()}},e,this)}),reconciliationConfirm:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(d.reconciliationConfirm,{id:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),kaipiao:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(d.kaipiao,{id:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)}),deleteduizhang:p.a.mark(function e(t,a){var n,r,c,i,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.id,r=a.call,c=a.put,e.next=4,r(d.deleteduizhang,{id:n});case 4:if(i=e.sent,o=i.data,-1!==o.code){e.next=8;break}return e.abrupt("return",!1);case 8:1===o.code?s.a.success(o.msg):s.a.error(o.msg);case 9:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,t){return r()({},e,t.payload)}}}},yWaO:function(e,t,a){"use strict";function n(e){var t=e.page,a=e.find_str,n=new FormData;return n.append("page",t),n.append("limit",O.c),n.append("find_str",a),Object(w.a)("".concat(O.a,"/home/supplier/purchase-contract-list"),{method:"POST",body:n})}function r(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=new FormData;return c.append("page",t),c.append("limit",O.c),c.append("find_str",a),c.append("start_date",n?n.format("YYYY-MM-DD"):""),c.append("end_date",r?r.format("YYYY-MM-DD"):""),Object(w.a)("".concat(O.a,"/home/supplier/purchase-performance"),{method:"POST",body:c})}function c(){return Object(w.a)("".concat(O.a,"/home/select/supplier"),{method:"POST"})}function i(){return Object(w.a)("".concat(O.a,"/home/select/goods"),{method:"POST"})}function s(e){var t=e.id,a=e.stime,n=e.etime,r=new FormData;return r.append("suppliers_id",t),r.append("start_date",a),r.append("end_date",n),Object(w.a)("".concat(O.a,"/home/supplier/add-contract"),{method:"POST",body:r})}function o(){return Object(w.a)("".concat(O.a,"/home/company/company-info"),{method:"POST"})}function p(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=e.supp_id,i=e.account_status,s=e.site_id,o=e.goods_id,p=(e.conversion,new FormData);return p.append("page",t),p.append("limit",O.c),p.append("find_str",a),p.append("stime",n),p.append("etime",r),p.append("supp_id",c),p.append("account_status",i),p.append("site_id",s),p.append("goods_id",o),Object(w.a)("".concat(O.a,"/home/supplier/supplier-account"),{method:"POST",body:p})}function d(e){var t=e.page,a=e.find_str,n=e.stime,r=e.etime,c=e.conversion,i=e.id,s=new FormData;return s.append("page",t),s.append("limit",O.c),s.append("find_str",a),s.append("id",i),c?(s.append("stime",n),s.append("etime",r)):(s.append("stime",n?n.format("YYYY-MM-DD"):""),s.append("etime",r?r.format("YYYY-MM-DD"):"")),Object(w.a)("".concat(O.a,"/home/supplier/supplier-account-detailed"),{method:"POST",body:s})}function u(){return Object(w.a)("".concat(O.a,"/home/select/supplier"),{method:"POST"})}function l(e){var t=e.find_str,a=e.stime,n=e.etime,r=e.gas_id,c=new FormData;return c.append("id",t),c.append("gas_id",r),c.append("start_date",a?a.format("YYYY-MM-DD"):""),c.append("end_date",n?n.format("YYYY-MM-DD"):""),Object(w.a)("".concat(O.a,"/home/supplier/supplier-account-num"),{method:"POST",body:c})}function m(e){var t=e.page,a=e.id,n=new FormData;return n.append("page",t),n.append("limit",O.c),n.append("id",a),Object(w.a)("".concat(O.a,"/home/supplier/details"),{method:"POST",body:n})}function f(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/supplier/confirm-supplier-account"),{method:"POST",body:a})}function h(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/supplier/delete-supplier-account"),{method:"POST",body:a})}function v(e){var t=e.ids,a=new FormData;return a.append("ids",t),Object(w.a)("".concat(O.a,"/home/supplier/set-account1"),{method:"POST",body:a})}function y(e){var t=e.stime,a=e.etime,n=e.supp_id,r=e.account_status,c=e.site_id,i=e.goods_id,s=new FormData;return s.append("stime",t),s.append("etime",a),s.append("supp_id",n),s.append("account_status",r),s.append("site_id",c),s.append("goods_id",i),Object(w.a)("".concat(O.a,"/home/supplier/set-account2"),{method:"POST",body:s})}function _(e){var t=e.page,a=e.stime,n=e.etime,r=e.supp_id,c=e.account_status,i=new FormData;return i.append("page",t),i.append("limit",O.c),i.append("stime",a),i.append("etime",n),i.append("supp_id",r),i.append("account_status",c),Object(w.a)("".concat(O.a,"/home/supplier/account-log"),{method:"POST",body:i})}function b(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/supplier/confirm"),{method:"POST",body:a})}function g(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/supplier/kaipiao"),{method:"POST",body:a})}function x(e){var t=e.id,a=new FormData;return a.append("id",t),Object(w.a)("".concat(O.a,"/home/supplier/delete"),{method:"POST",body:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.purchaseContractFetch=n,t.purchaseDetailFetch=r,t.fetchOptions=c,t.fetchGoods=i,t.addSupplierContract=s,t.fetchCompany=o,t.getBalanceData=p,t.balanceDetailedFetch=d,t.getCustomerCompany=u,t.accountNum=l,t.getBalanceHistoryData=m,t.confirmAccount=f,t.deleteAccount=h,t.Reconciliation=v,t.Reconciliation2=y,t.fetchHistory=_,t.reconciliationConfirm=b,t.kaipiao=g,t.deleteduizhang=x;var w=a("vLgD"),O=a("oiih")}});